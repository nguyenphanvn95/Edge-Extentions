import"./modulepreload-polyfill-B5Qt9EMX.js";import{b as ga,d as B,u as da,r as te,p as He,o as Ce,a as m,c as w,e as Ve,n as pe,f as e,_ as ma,g as _i,h as yi,i as ze,j as C,k as P,w as f,l as ha,E as wt,t as q,m as wi,q as Ci,s as Q,v as r,x as ki,y as xi,z as Si,A as zi,B as ba,C as Pi,D as i,F as lt,G as A,H as Mi,I as Bi,J as Fe,K as va,L as Ei,M as Ri,N as Ti,O as ji,P as Ai,Q as Oi,R as G,S as re,T as qi,U as Ii,V as it,W as $i}from"./global-BC8dNUmM.js";import{u as _a,a as ya,b as Li,c as wa,d as Hi,p as Vi,e as We,f as Ct,g as Ca,h as Ue,i as ka,j as xa,C as Fi,_ as st,k as Sa,I as Wi,l as Ui,m as Gi,n as za,G as Zi,o as Pa,q as Ma,P as Ni,r as Qi,s as Ba,S as Di,t as Ji,v as Ki,w as Yi}from"./slide.vue_vue_type_script_setup_true_lang-CAYDEUGR.js";import{M as Xi,a as Ea,g as es,b as ts,c as as,d as ns,e as os,f as ls,h as is,i as ss,j as rs,k as cs,l as fs,m as us,n as ps,o as gs,p as ds,q as ms,r as hs,s as bs,F as vs,t as _s,u as ys,v as Pe,w as Me,x as ws,y as Cs,z as ks,A as xs,S as Ss,B as zs,C as Ps,D as Ms,E as Bs}from"./utils-CBRNvm1S.js";import{i as Es,u as Rs,_ as we,P as ke,W as kt,X as Ra,a as Ts,b as rt,c as W,E as je,d as Ae,e as Ta,f as js,g as ct,h as As,j as ja,k as xt,l as Aa,m as Os,n as Ge,o as Y,p as qs,q as Is,r as Oa,s as qa,t as $s,v as Ls,w as Hs,x as Vs,y as Ia,z as Fs,A as Ws}from"./content.vue_vue_type_script_setup_true_lang-DHcLY_76.js";import{F as O,P as Oe,a as Us,i as Gs,s as $a,g as La,b as Ha,c as Zs,R as xe,d as Ns,e as Qs,f as Ds,S as Va,I as Fa,h as Js,j as Ks,k as Ys,l as Xs,m as er,n as ge,o as tr,p as ar,q as nr,r as or,t as lr,u as ir,v as sr}from"./config-Br0JWhEe.js";import"./lodash-D3Y-mkk_.js";import{I as rr,C as Wa}from"./const-Bl3AZojp.js";(async()=>{const St=Symbol("breadcrumbKey"),Ua=ga({separator:{type:String,default:"/"},separatorIcon:{type:Es}}),Ga=B({name:"ElBreadcrumb"}),Za=B({...Ga,props:Ua,setup(n){const a=n,{t}=Rs(),l=da("breadcrumb"),o=te();return He(St,a),Ce(()=>{const s=o.value.querySelectorAll(`.${l.e("item")}`);s.length&&s[s.length-1].setAttribute("aria-current","page")}),(s,c)=>(m(),w("div",{ref_key:"breadcrumb",ref:o,class:pe(e(l).b()),"aria-label":e(t)("el.breadcrumb.label"),role:"navigation"},[Ve(s.$slots,"default")],10,["aria-label"]))}});var Na=ma(Za,[["__file","breadcrumb.vue"]]);const Qa=ga({to:{type:_i([String,Object]),default:""},replace:Boolean}),Da=B({name:"ElBreadcrumbItem"}),Ja=B({...Da,props:Qa,setup(n){const a=n,t=yi(),l=ze(St,void 0),o=da("breadcrumb"),s=t.appContext.config.globalProperties.$router,c=te(),p=()=>{!a.to||!s||(a.replace?s.replace(a.to):s.push(a.to))};return(u,g)=>{var b,h;return m(),w("span",{class:pe(e(o).e("item"))},[C("span",{ref_key:"link",ref:c,class:pe([e(o).e("inner"),e(o).is("link",!!u.to)]),role:"link",onClick:p},[Ve(u.$slots,"default")],2),(b=e(l))!=null&&b.separatorIcon?(m(),P(e(wt),{key:0,class:pe(e(o).e("separator"))},{default:f(()=>[(m(),P(ha(e(l).separatorIcon)))]),_:1},8,["class"])):(m(),w("span",{key:1,class:pe(e(o).e("separator")),role:"presentation"},q((h=e(l))==null?void 0:h.separator),3))],2)}}});var zt=ma(Ja,[["__file","breadcrumb-item.vue"]]);const Ka=wi(Na,{BreadcrumbItem:zt}),Ya=Ci(zt),Xa=["src","alt"],en={key:1,class:"mr-2 rounded-lg bg-blue-400 flex items-center justify-center text-white text-xl"},Pt=B({__name:"MediaShortcut",props:{media:{}},setup(n){const{t:a}=Q(),t=n,l=c=>c.logo.data?c.logo.data.startsWith("data:image")?c.logo.data:chrome.runtime.getURL(c.logo.data):"",o=r(()=>t.media.media.name?t.media.media.name:a(`setting.media.${t.media.media.id}`)),s=c=>o.value.slice(0,2);return(c,p)=>l(c.media)?(m(),w("img",{key:0,class:"rounded-full",src:l(c.media),alt:e(o)},null,8,Xa)):(m(),w("div",en,q(s(c.media)),1))}}),qe=typeof document<"u";function Mt(n){return typeof n=="object"||"displayName"in n||"props"in n||"__vccOpts"in n}function tn(n){return n.__esModule||n[Symbol.toStringTag]==="Module"||n.default&&Mt(n.default)}const D=Object.assign;function ft(n,a){const t={};for(const l in a){const o=a[l];t[l]=ye(o)?o.map(n):n(o)}return t}const Ze=()=>{},ye=Array.isArray,Bt=/#/g,an=/&/g,nn=/\//g,on=/=/g,ln=/\?/g,Et=/\+/g,sn=/%5B/g,rn=/%5D/g,Rt=/%5E/g,cn=/%60/g,Tt=/%7B/g,fn=/%7C/g,jt=/%7D/g,un=/%20/g;function ut(n){return encodeURI(""+n).replace(fn,"|").replace(sn,"[").replace(rn,"]")}function pn(n){return ut(n).replace(Tt,"{").replace(jt,"}").replace(Rt,"^")}function pt(n){return ut(n).replace(Et,"%2B").replace(un,"+").replace(Bt,"%23").replace(an,"%26").replace(cn,"`").replace(Tt,"{").replace(jt,"}").replace(Rt,"^")}function gn(n){return pt(n).replace(on,"%3D")}function dn(n){return ut(n).replace(Bt,"%23").replace(ln,"%3F")}function mn(n){return n==null?"":dn(n).replace(nn,"%2F")}function Ne(n){try{return decodeURIComponent(""+n)}catch{}return""+n}const hn=/\/$/,bn=n=>n.replace(hn,"");function gt(n,a,t="/"){let l,o={},s="",c="";const p=a.indexOf("#");let u=a.indexOf("?");return p<u&&p>=0&&(u=-1),u>-1&&(l=a.slice(0,u),s=a.slice(u+1,p>-1?p:a.length),o=n(s)),p>-1&&(l=l||a.slice(0,p),c=a.slice(p,a.length)),l=wn(l??a,t),{fullPath:l+(s&&"?")+s+c,path:l,query:o,hash:Ne(c)}}function vn(n,a){const t=a.query?n(a.query):"";return a.path+(t&&"?")+t+(a.hash||"")}function _n(n,a,t){const l=a.matched.length-1,o=t.matched.length-1;return l>-1&&l===o&&Ie(a.matched[l],t.matched[o])&&At(a.params,t.params)&&n(a.query)===n(t.query)&&a.hash===t.hash}function Ie(n,a){return(n.aliasOf||n)===(a.aliasOf||a)}function At(n,a){if(Object.keys(n).length!==Object.keys(a).length)return!1;for(const t in n)if(!yn(n[t],a[t]))return!1;return!0}function yn(n,a){return ye(n)?Ot(n,a):ye(a)?Ot(a,n):n===a}function Ot(n,a){return ye(a)?n.length===a.length&&n.every((t,l)=>t===a[l]):n.length===1&&n[0]===a}function wn(n,a){if(n.startsWith("/"))return n;if(!n)return a;const t=a.split("/"),l=n.split("/"),o=l[l.length-1];(o===".."||o===".")&&l.push("");let s=t.length-1,c,p;for(c=0;c<l.length;c++)if(p=l[c],p!==".")if(p==="..")s>1&&s--;else break;return t.slice(0,s).join("/")+"/"+l.slice(c).join("/")}const Be={path:"/",name:void 0,params:{},query:{},hash:"",fullPath:"/",matched:[],meta:{},redirectedFrom:void 0};var Qe;(function(n){n.pop="pop",n.push="push"})(Qe||(Qe={}));var tt;(function(n){n.back="back",n.forward="forward",n.unknown=""})(tt||(tt={}));const dt="";function Cn(n){if(!n)if(qe){const a=document.querySelector("base");n=a&&a.getAttribute("href")||"/",n=n.replace(/^\w+:\/\/[^\/]+/,"")}else n="/";return n[0]!=="/"&&n[0]!=="#"&&(n="/"+n),bn(n)}const kn=/^[^#]+#/;function xn(n,a){return n.replace(kn,"#")+a}function Sn(n,a){const t=document.documentElement.getBoundingClientRect(),l=n.getBoundingClientRect();return{behavior:a.behavior,left:l.left-t.left-(a.left||0),top:l.top-t.top-(a.top||0)}}const zn=()=>({left:window.scrollX,top:window.scrollY});function Pn(n){let a;if("el"in n){const t=n.el,l=typeof t=="string"&&t.startsWith("#"),o=typeof t=="string"?l?document.getElementById(t.slice(1)):document.querySelector(t):t;if(!o)return;a=Sn(o,n)}else a=n;"scrollBehavior"in document.documentElement.style?window.scrollTo(a):window.scrollTo(a.left!=null?a.left:window.scrollX,a.top!=null?a.top:window.scrollY)}function qt(n,a){return(history.state?history.state.position-a:-1)+n}const mt=new Map;function Mn(n,a){mt.set(n,a)}function Bn(n){const a=mt.get(n);return mt.delete(n),a}function En(n=""){let a=[],t=[dt],l=0;n=Cn(n);function o(p){l++,l!==t.length&&t.splice(l),t.push(p)}function s(p,u,{direction:g,delta:b}){const h={direction:g,delta:b,type:Qe.pop};for(const d of a)d(p,u,h)}const c={location:dt,state:{},base:n,createHref:xn.bind(null,n),replace(p){t.splice(l--,1),o(p)},push(p,u){o(p)},listen(p){return a.push(p),()=>{const u=a.indexOf(p);u>-1&&a.splice(u,1)}},destroy(){a=[],t=[dt],l=0},go(p,u=!0){const g=this.location,b=p<0?tt.back:tt.forward;l=Math.max(0,Math.min(l+p,t.length-1)),u&&s(this.location,g,{direction:b,delta:p})}};return Object.defineProperty(c,"location",{enumerable:!0,get:()=>t[l]}),c}function Rn(n){return typeof n=="string"||n&&typeof n=="object"}function It(n){return typeof n=="string"||typeof n=="symbol"}const $t=Symbol("");var Lt;(function(n){n[n.aborted=4]="aborted",n[n.cancelled=8]="cancelled",n[n.duplicated=16]="duplicated"})(Lt||(Lt={}));function $e(n,a){return D(new Error,{type:n,[$t]:!0},a)}function Se(n,a){return n instanceof Error&&$t in n&&(a==null||!!(n.type&a))}const Ht="[^/]+?",Tn={sensitive:!1,strict:!1,start:!0,end:!0},jn=/[.+*?^${}()[\]/\\]/g;function An(n,a){const t=D({},Tn,a),l=[];let o=t.start?"^":"";const s=[];for(const g of n){const b=g.length?[]:[90];t.strict&&!g.length&&(o+="/");for(let h=0;h<g.length;h++){const d=g[h];let v=40+(t.sensitive?.25:0);if(d.type===0)h||(o+="/"),o+=d.value.replace(jn,"\\$&"),v+=40;else if(d.type===1){const{value:k,repeatable:x,optional:E,regexp:j}=d;s.push({name:k,repeatable:x,optional:E});const M=j||Ht;if(M!==Ht){v+=10;try{new RegExp(`(${M})`)}catch(J){throw new Error(`Invalid custom RegExp for param "${k}" (${M}): `+J.message)}}let T=x?`((?:${M})(?:/(?:${M}))*)`:`(${M})`;h||(T=E&&g.length<2?`(?:/${T})`:"/"+T),E&&(T+="?"),o+=T,v+=20,E&&(v+=-8),x&&(v+=-20),M===".*"&&(v+=-50)}b.push(v)}l.push(b)}if(t.strict&&t.end){const g=l.length-1;l[g][l[g].length-1]+=.7000000000000001}t.strict||(o+="/?"),t.end?o+="$":t.strict&&(o+="(?:/|$)");const c=new RegExp(o,t.sensitive?"":"i");function p(g){const b=g.match(c),h={};if(!b)return null;for(let d=1;d<b.length;d++){const v=b[d]||"",k=s[d-1];h[k.name]=v&&k.repeatable?v.split("/"):v}return h}function u(g){let b="",h=!1;for(const d of n){(!h||!b.endsWith("/"))&&(b+="/"),h=!1;for(const v of d)if(v.type===0)b+=v.value;else if(v.type===1){const{value:k,repeatable:x,optional:E}=v,j=k in g?g[k]:"";if(ye(j)&&!x)throw new Error(`Provided param "${k}" is an array but it is not repeatable (* or + modifiers)`);const M=ye(j)?j.join("/"):j;if(!M)if(E)d.length<2&&(b.endsWith("/")?b=b.slice(0,-1):h=!0);else throw new Error(`Missing required param "${k}"`);b+=M}}return b||"/"}return{re:c,score:l,keys:s,parse:p,stringify:u}}function On(n,a){let t=0;for(;t<n.length&&t<a.length;){const l=a[t]-n[t];if(l)return l;t++}return n.length<a.length?n.length===1&&n[0]===80?-1:1:n.length>a.length?a.length===1&&a[0]===80?1:-1:0}function Vt(n,a){let t=0;const l=n.score,o=a.score;for(;t<l.length&&t<o.length;){const s=On(l[t],o[t]);if(s)return s;t++}if(Math.abs(o.length-l.length)===1){if(Ft(l))return 1;if(Ft(o))return-1}return o.length-l.length}function Ft(n){const a=n[n.length-1];return n.length>0&&a[a.length-1]<0}const qn={type:0,value:""},In=/[a-zA-Z0-9_]/;function $n(n){if(!n)return[[]];if(n==="/")return[[qn]];if(!n.startsWith("/"))throw new Error(`Invalid path "${n}"`);function a(v){throw new Error(`ERR (${t})/"${g}": ${v}`)}let t=0,l=t;const o=[];let s;function c(){s&&o.push(s),s=[]}let p=0,u,g="",b="";function h(){g&&(t===0?s.push({type:0,value:g}):t===1||t===2||t===3?(s.length>1&&(u==="*"||u==="+")&&a(`A repeatable param (${g}) must be alone in its segment. eg: '/:ids+.`),s.push({type:1,value:g,regexp:b,repeatable:u==="*"||u==="+",optional:u==="*"||u==="?"})):a("Invalid state to consume buffer"),g="")}function d(){g+=u}for(;p<n.length;){if(u=n[p++],u==="\\"&&t!==2){l=t,t=4;continue}switch(t){case 0:u==="/"?(g&&h(),c()):u===":"?(h(),t=1):d();break;case 4:d(),t=l;break;case 1:u==="("?t=2:In.test(u)?d():(h(),t=0,u!=="*"&&u!=="?"&&u!=="+"&&p--);break;case 2:u===")"?b[b.length-1]=="\\"?b=b.slice(0,-1)+u:t=3:b+=u;break;case 3:h(),t=0,u!=="*"&&u!=="?"&&u!=="+"&&p--,b="";break;default:a("Unknown state");break}}return t===2&&a(`Unfinished custom RegExp for param "${g}"`),h(),c(),o}function Ln(n,a,t){const l=An($n(n.path),t),o=D(l,{record:n,parent:a,children:[],alias:[]});return a&&!o.record.aliasOf==!a.record.aliasOf&&a.children.push(o),o}function Hn(n,a){const t=[],l=new Map;a=Zt({strict:!1,end:!0,sensitive:!1},a);function o(h){return l.get(h)}function s(h,d,v){const k=!v,x=Ut(h);x.aliasOf=v&&v.record;const E=Zt(a,h),j=[x];if("alias"in h){const J=typeof h.alias=="string"?[h.alias]:h.alias;for(const ie of J)j.push(Ut(D({},x,{components:v?v.record.components:x.components,path:ie,aliasOf:v?v.record:x})))}let M,T;for(const J of j){const{path:ie}=J;if(d&&ie[0]!=="/"){const ae=d.record.path,Z=ae[ae.length-1]==="/"?"":"/";J.path=d.record.path+(ie&&Z+ie)}if(M=Ln(J,d,E),v?v.alias.push(M):(T=T||M,T!==M&&T.alias.push(M),k&&h.name&&!Gt(M)&&c(h.name)),Nt(M)&&u(M),x.children){const ae=x.children;for(let Z=0;Z<ae.length;Z++)s(ae[Z],M,v&&v.children[Z])}v=v||M}return T?()=>{c(T)}:Ze}function c(h){if(It(h)){const d=l.get(h);d&&(l.delete(h),t.splice(t.indexOf(d),1),d.children.forEach(c),d.alias.forEach(c))}else{const d=t.indexOf(h);d>-1&&(t.splice(d,1),h.record.name&&l.delete(h.record.name),h.children.forEach(c),h.alias.forEach(c))}}function p(){return t}function u(h){const d=Wn(h,t);t.splice(d,0,h),h.record.name&&!Gt(h)&&l.set(h.record.name,h)}function g(h,d){let v,k={},x,E;if("name"in h&&h.name){if(v=l.get(h.name),!v)throw $e(1,{location:h});E=v.record.name,k=D(Wt(d.params,v.keys.filter(T=>!T.optional).concat(v.parent?v.parent.keys.filter(T=>T.optional):[]).map(T=>T.name)),h.params&&Wt(h.params,v.keys.map(T=>T.name))),x=v.stringify(k)}else if(h.path!=null)x=h.path,v=t.find(T=>T.re.test(x)),v&&(k=v.parse(x),E=v.record.name);else{if(v=d.name?l.get(d.name):t.find(T=>T.re.test(d.path)),!v)throw $e(1,{location:h,currentLocation:d});E=v.record.name,k=D({},d.params,h.params),x=v.stringify(k)}const j=[];let M=v;for(;M;)j.unshift(M.record),M=M.parent;return{name:E,path:x,params:k,matched:j,meta:Fn(j)}}n.forEach(h=>s(h));function b(){t.length=0,l.clear()}return{addRoute:s,resolve:g,removeRoute:c,clearRoutes:b,getRoutes:p,getRecordMatcher:o}}function Wt(n,a){const t={};for(const l of a)l in n&&(t[l]=n[l]);return t}function Ut(n){const a={path:n.path,redirect:n.redirect,name:n.name,meta:n.meta||{},aliasOf:n.aliasOf,beforeEnter:n.beforeEnter,props:Vn(n),children:n.children||[],instances:{},leaveGuards:new Set,updateGuards:new Set,enterCallbacks:{},components:"components"in n?n.components||null:n.component&&{default:n.component}};return Object.defineProperty(a,"mods",{value:{}}),a}function Vn(n){const a={},t=n.props||!1;if("component"in n)a.default=t;else for(const l in n.components)a[l]=typeof t=="object"?t[l]:t;return a}function Gt(n){for(;n;){if(n.record.aliasOf)return!0;n=n.parent}return!1}function Fn(n){return n.reduce((a,t)=>D(a,t.meta),{})}function Zt(n,a){const t={};for(const l in n)t[l]=l in a?a[l]:n[l];return t}function Wn(n,a){let t=0,l=a.length;for(;t!==l;){const s=t+l>>1;Vt(n,a[s])<0?l=s:t=s+1}const o=Un(n);return o&&(l=a.lastIndexOf(o,l-1)),l}function Un(n){let a=n;for(;a=a.parent;)if(Nt(a)&&Vt(n,a)===0)return a}function Nt({record:n}){return!!(n.name||n.components&&Object.keys(n.components).length||n.redirect)}function Gn(n){const a={};if(n===""||n==="?")return a;const t=(n[0]==="?"?n.slice(1):n).split("&");for(let l=0;l<t.length;++l){const o=t[l].replace(Et," "),s=o.indexOf("="),c=Ne(s<0?o:o.slice(0,s)),p=s<0?null:Ne(o.slice(s+1));if(c in a){let u=a[c];ye(u)||(u=a[c]=[u]),u.push(p)}else a[c]=p}return a}function Qt(n){let a="";for(let t in n){const l=n[t];if(t=gn(t),l==null){l!==void 0&&(a+=(a.length?"&":"")+t);continue}(ye(l)?l.map(o=>o&&pt(o)):[l&&pt(l)]).forEach(o=>{o!==void 0&&(a+=(a.length?"&":"")+t,o!=null&&(a+="="+o))})}return a}function Zn(n){const a={};for(const t in n){const l=n[t];l!==void 0&&(a[t]=ye(l)?l.map(o=>o==null?null:""+o):l==null?l:""+l)}return a}const Nn=Symbol(""),Dt=Symbol(""),at=Symbol(""),ht=Symbol(""),bt=Symbol("");function De(){let n=[];function a(l){return n.push(l),()=>{const o=n.indexOf(l);o>-1&&n.splice(o,1)}}function t(){n=[]}return{add:a,list:()=>n.slice(),reset:t}}function Ee(n,a,t,l,o,s=c=>c()){const c=l&&(l.enterCallbacks[o]=l.enterCallbacks[o]||[]);return()=>new Promise((p,u)=>{const g=d=>{d===!1?u($e(4,{from:t,to:a})):d instanceof Error?u(d):Rn(d)?u($e(2,{from:a,to:d})):(c&&l.enterCallbacks[o]===c&&typeof d=="function"&&c.push(d),p())},b=s(()=>n.call(l&&l.instances[o],a,t,g));let h=Promise.resolve(b);n.length<3&&(h=h.then(g)),h.catch(d=>u(d))})}function vt(n,a,t,l,o=s=>s()){const s=[];for(const c of n)for(const p in c.components){let u=c.components[p];if(!(a!=="beforeRouteEnter"&&!c.instances[p]))if(Mt(u)){const g=(u.__vccOpts||u)[a];g&&s.push(Ee(g,t,l,c,p,o))}else{let g=u();s.push(()=>g.then(b=>{if(!b)throw new Error(`Couldn't resolve component "${p}" at "${c.path}"`);const h=tn(b)?b.default:b;c.mods[p]=b,c.components[p]=h;const d=(h.__vccOpts||h)[a];return d&&Ee(d,t,l,c,p,o)()}))}}return s}function Jt(n){const a=ze(at),t=ze(ht),l=r(()=>{const u=e(n.to);return a.resolve(u)}),o=r(()=>{const{matched:u}=l.value,{length:g}=u,b=u[g-1],h=t.matched;if(!b||!h.length)return-1;const d=h.findIndex(Ie.bind(null,b));if(d>-1)return d;const v=Kt(u[g-2]);return g>1&&Kt(b)===v&&h[h.length-1].path!==v?h.findIndex(Ie.bind(null,u[g-2])):d}),s=r(()=>o.value>-1&&Kn(t.params,l.value.params)),c=r(()=>o.value>-1&&o.value===t.matched.length-1&&At(t.params,l.value.params));function p(u={}){return Jn(u)?a[e(n.replace)?"replace":"push"](e(n.to)).catch(Ze):Promise.resolve()}return{route:l,href:r(()=>l.value.href),isActive:s,isExactActive:c,navigate:p}}const Qn=B({name:"RouterLink",compatConfig:{MODE:3},props:{to:{type:[String,Object],required:!0},replace:Boolean,activeClass:String,exactActiveClass:String,custom:Boolean,ariaCurrentValue:{type:String,default:"page"}},useLink:Jt,setup(n,{slots:a}){const t=zi(Jt(n)),{options:l}=ze(at),o=r(()=>({[Yt(n.activeClass,l.linkActiveClass,"router-link-active")]:t.isActive,[Yt(n.exactActiveClass,l.linkExactActiveClass,"router-link-exact-active")]:t.isExactActive}));return()=>{const s=a.default&&a.default(t);return n.custom?s:ba("a",{"aria-current":t.isExactActive?n.ariaCurrentValue:null,href:t.href,onClick:t.navigate,class:o.value},s)}}}),Dn=Qn;function Jn(n){if(!(n.metaKey||n.altKey||n.ctrlKey||n.shiftKey)&&!n.defaultPrevented&&!(n.button!==void 0&&n.button!==0)){if(n.currentTarget&&n.currentTarget.getAttribute){const a=n.currentTarget.getAttribute("target");if(/\b_blank\b/i.test(a))return}return n.preventDefault&&n.preventDefault(),!0}}function Kn(n,a){for(const t in a){const l=a[t],o=n[t];if(typeof l=="string"){if(l!==o)return!1}else if(!ye(o)||o.length!==l.length||l.some((s,c)=>s!==o[c]))return!1}return!0}function Kt(n){return n?n.aliasOf?n.aliasOf.path:n.path:""}const Yt=(n,a,t)=>n??a??t,Yn=B({name:"RouterView",inheritAttrs:!1,props:{name:{type:String,default:"default"},route:Object},compatConfig:{MODE:3},setup(n,{attrs:a,slots:t}){const l=ze(bt),o=r(()=>n.route||l.value),s=ze(Dt,0),c=r(()=>{let g=e(s);const{matched:b}=o.value;let h;for(;(h=b[g])&&!h.components;)g++;return g}),p=r(()=>o.value.matched[c.value]);He(Dt,r(()=>c.value+1)),He(Nn,p),He(bt,o);const u=te();return Pi(()=>[u.value,p.value,n.name],([g,b,h],[d,v,k])=>{b&&(b.instances[h]=g,v&&v!==b&&g&&g===d&&(b.leaveGuards.size||(b.leaveGuards=v.leaveGuards),b.updateGuards.size||(b.updateGuards=v.updateGuards))),g&&b&&(!v||!Ie(b,v)||!d)&&(b.enterCallbacks[h]||[]).forEach(x=>x(g))},{flush:"post"}),()=>{const g=o.value,b=n.name,h=p.value,d=h&&h.components[b];if(!d)return Xt(t.default,{Component:d,route:g});const v=h.props[b],k=v?v===!0?g.params:typeof v=="function"?v(g):v:null,x=ba(d,D({},k,a,{onVnodeUnmounted:E=>{E.component.isUnmounted&&(h.instances[b]=null)},ref:u}));return Xt(t.default,{Component:x,route:g})||x}}});function Xt(n,a){if(!n)return null;const t=n(a);return t.length===1?t[0]:t}const Xn=Yn;function eo(n){const a=Hn(n.routes,n),t=n.parseQuery||Gn,l=n.stringifyQuery||Qt,o=n.history,s=De(),c=De(),p=De(),u=ki(Be);let g=Be;qe&&n.scrollBehavior&&"scrollRestoration"in history&&(history.scrollRestoration="manual");const b=ft.bind(null,_=>""+_),h=ft.bind(null,mn),d=ft.bind(null,Ne);function v(_,z){let S,R;return It(_)?(S=a.getRecordMatcher(_),R=z):R=_,a.addRoute(R,S)}function k(_){const z=a.getRecordMatcher(_);z&&a.removeRoute(z)}function x(){return a.getRoutes().map(_=>_.record)}function E(_){return!!a.getRecordMatcher(_)}function j(_,z){if(z=D({},z||u.value),typeof _=="string"){const $=gt(t,_,z.path),se=a.resolve({path:$.path},z),et=o.createHref($.fullPath);return D($,se,{params:d(se.params),hash:Ne($.hash),redirectedFrom:void 0,href:et})}let S;if(_.path!=null)S=D({},_,{path:gt(t,_.path,z.path).path});else{const $=D({},_.params);for(const se in $)$[se]==null&&delete $[se];S=D({},_,{params:h($)}),z.params=h(z.params)}const R=a.resolve(S,z),N=_.hash||"";R.params=b(d(R.params));const oe=vn(l,D({},_,{hash:pn(N),path:R.path})),F=o.createHref(oe);return D({fullPath:oe,hash:N,query:l===Qt?Zn(_.query):_.query||{}},R,{redirectedFrom:void 0,href:F})}function M(_){return typeof _=="string"?gt(t,_,u.value.path):D({},_)}function T(_,z){if(g!==_)return $e(8,{from:z,to:_})}function J(_){return Z(_)}function ie(_){return J(D(M(_),{replace:!0}))}function ae(_){const z=_.matched[_.matched.length-1];if(z&&z.redirect){const{redirect:S}=z;let R=typeof S=="function"?S(_):S;return typeof R=="string"&&(R=R.includes("?")||R.includes("#")?R=M(R):{path:R},R.params={}),D({query:_.query,hash:_.hash,params:R.path!=null?{}:_.params},R)}}function Z(_,z){const S=g=j(_),R=u.value,N=_.state,oe=_.force,F=_.replace===!0,$=ae(S);if($)return Z(D(M($),{state:typeof $=="object"?D({},N,$.state):N,force:oe,replace:F}),z||S);const se=S;se.redirectedFrom=z;let et;return!oe&&_n(l,R,S)&&(et=$e(16,{to:se,from:R}),Te(R,R,!0,!1)),(et?Promise.resolve(et):he(se,R)).catch(be=>Se(be)?Se(be,2)?be:ne(be):y(be,se,R)).then(be=>{if(be){if(Se(be,2))return Z(D({replace:F},M(be.to),{state:typeof be.to=="object"?D({},N,be.to.state):N,force:oe}),z||se)}else be=X(se,R,!0,F,N);return U(se,R,be),be})}function me(_,z){const S=T(_,z);return S?Promise.reject(S):Promise.resolve()}function fe(_){const z=_e.values().next().value;return z&&typeof z.runWithContext=="function"?z.runWithContext(_):_()}function he(_,z){let S;const[R,N,oe]=to(_,z);S=vt(R.reverse(),"beforeRouteLeave",_,z);for(const $ of R)$.leaveGuards.forEach(se=>{S.push(Ee(se,_,z))});const F=me.bind(null,_,z);return S.push(F),Le(S).then(()=>{S=[];for(const $ of s.list())S.push(Ee($,_,z));return S.push(F),Le(S)}).then(()=>{S=vt(N,"beforeRouteUpdate",_,z);for(const $ of N)$.updateGuards.forEach(se=>{S.push(Ee(se,_,z))});return S.push(F),Le(S)}).then(()=>{S=[];for(const $ of oe)if($.beforeEnter)if(ye($.beforeEnter))for(const se of $.beforeEnter)S.push(Ee(se,_,z));else S.push(Ee($.beforeEnter,_,z));return S.push(F),Le(S)}).then(()=>(_.matched.forEach($=>$.enterCallbacks={}),S=vt(oe,"beforeRouteEnter",_,z,fe),S.push(F),Le(S))).then(()=>{S=[];for(const $ of c.list())S.push(Ee($,_,z));return S.push(F),Le(S)}).catch($=>Se($,8)?$:Promise.reject($))}function U(_,z,S){p.list().forEach(R=>fe(()=>R(_,z,S)))}function X(_,z,S,R,N){const oe=T(_,z);if(oe)return oe;const F=z===Be,$=qe?history.state:{};S&&(R||F?o.replace(_.fullPath,D({scroll:F&&$&&$.scroll},N)):o.push(_.fullPath,N)),u.value=_,Te(_,z,S,F),ne()}let ce;function ve(){ce||(ce=o.listen((_,z,S)=>{if(!ue.listening)return;const R=j(_),N=ae(R);if(N){Z(D(N,{replace:!0}),R).catch(Ze);return}g=R;const oe=u.value;qe&&Mn(qt(oe.fullPath,S.delta),zn()),he(R,oe).catch(F=>Se(F,12)?F:Se(F,2)?(Z(F.to,R).then($=>{Se($,20)&&!S.delta&&S.type===Qe.pop&&o.go(-1,!1)}).catch(Ze),Promise.reject()):(S.delta&&o.go(-S.delta,!1),y(F,R,oe))).then(F=>{F=F||X(R,oe,!1),F&&(S.delta&&!Se(F,8)?o.go(-S.delta,!1):S.type===Qe.pop&&Se(F,20)&&o.go(-1,!1)),U(R,oe,F)}).catch(Ze)}))}let ee=De(),H=De(),K;function y(_,z,S){ne(_);const R=H.list();return R.length?R.forEach(N=>N(_,z,S)):console.error(_),Promise.reject(_)}function L(){return K&&u.value!==Be?Promise.resolve():new Promise((_,z)=>{ee.add([_,z])})}function ne(_){return K||(K=!_,ve(),ee.list().forEach(([z,S])=>_?S(_):z()),ee.reset()),_}function Te(_,z,S,R){const{scrollBehavior:N}=n;if(!qe||!N)return Promise.resolve();const oe=!S&&Bn(qt(_.fullPath,0))||(R||!S)&&history.state&&history.state.scroll||null;return Si().then(()=>N(_,z,oe)).then(F=>F&&Pn(F)).catch(F=>y(F,_,z))}const V=_=>o.go(_);let de;const _e=new Set,ue={currentRoute:u,listening:!0,addRoute:v,removeRoute:k,clearRoutes:a.clearRoutes,hasRoute:E,getRoutes:x,resolve:j,options:n,push:J,replace:ie,go:V,back:()=>V(-1),forward:()=>V(1),beforeEach:s.add,beforeResolve:c.add,afterEach:p.add,onError:H.add,isReady:L,install(_){const z=this;_.component("RouterLink",Dn),_.component("RouterView",Xn),_.config.globalProperties.$router=z,Object.defineProperty(_.config.globalProperties,"$route",{enumerable:!0,get:()=>e(u)}),qe&&!de&&u.value===Be&&(de=!0,J(o.location).catch(N=>{}));const S={};for(const N in Be)Object.defineProperty(S,N,{get:()=>u.value[N],enumerable:!0});_.provide(at,z),_.provide(ht,xi(S)),_.provide(bt,u);const R=_.unmount;_e.add(_),_.unmount=function(){_e.delete(_),_e.size<1&&(g=Be,ce&&ce(),ce=null,u.value=Be,de=!1,K=!1),R()}}};function Le(_){return _.reduce((z,S)=>z.then(()=>fe(S)),Promise.resolve())}return ue}function to(n,a){const t=[],l=[],o=[],s=Math.max(a.matched.length,n.matched.length);for(let c=0;c<s;c++){const p=a.matched[c];p&&(n.matched.find(g=>Ie(g,p))?l.push(p):t.push(p));const u=n.matched[c];u&&(a.matched.find(g=>Ie(g,u))||o.push(u))}return[t,l,o]}function ao(){return ze(at)}function ea(n){return ze(ht)}const no={class:"flex flex-row justify-between px-3 py-2 items-center"},oo={class:"flex flex-row items-center"},lo={key:0,class:"mr-3 flex items-center"},io={key:1,class:"mr-3 flex items-center"},so={key:2,class:"mr-3 flex items-center"},ro={key:3,class:"mr-3 flex items-center"},co={key:4,class:"mr-3 flex items-center"},fo={class:"mr-3 flex items-center"},uo=B({__name:"Header",setup(n){const a=ea(),{t,locale:l}=Q(),o=_a(),s=r(()=>o.tabId),c=r(()=>{const U=a.path.split("/");return U.length<2?null:U[1]}),p=r(()=>{switch(c.value){case O.image:return t("format.image");case O.card:return t("format.card");case O.gzh:return t("format.gzh");case O.pdf:return t("format.pdf");case O.slide:return t("format.slide");case O.plainText:return t("format.plain_text");case O.markdown:return t("format.markdown");default:return null}}),u=r(()=>{const U=[O.image,O.card,O.pdf,O.slide,O.plainText];return c.value&&U.includes(c.value)}),g=r(()=>c.value==="slide"),b=r(()=>l.value==="zh-hans"&&c.value===O.gzh),h=r(()=>l.value==="zh-hans"&&c.value===O.card),d=r(()=>c.value===O.image),v=U=>{chrome.tabs.create({url:U.media.url});let X;U.media.id==="wechat-gzh"&&(X="open_gzh"),U.media.id==="xiaohongshu"&&(X="open_xhs"),X&&chrome.runtime.sendMessage({action:Ea,activityType:X})},k=()=>{chrome.runtime.openOptionsPage()},x=r(()=>t("common.play")),E=r(()=>t("common.copy")),j=r(()=>t("common.download")),M=async()=>{const U=ya();chrome.runtime.sendMessage({action:Ea,activityType:`download_${c.value}`}),await U.download()},T=async()=>{Li().present()},J=async()=>{wa().copy()},ie=r(()=>t("common.refresh")),ae=async()=>{Hi().rerender(s.value)},Z=te(!1),me=r(()=>o.isIframe),fe=()=>{chrome.tabs.create({url:es(l.value)}),Z.value=!1,chrome.runtime.sendMessage({action:ts})};Ce(()=>{chrome.runtime.sendMessage({action:Xi},U=>{Z.value=U})});const he=()=>{chrome.runtime.sendMessage({action:as})};return(U,X)=>{const ce=Ya,ve=Ka,ee=wt;return m(),w("div",no,[C("div",null,[i(ve,{"separator-icon":e(Mi)},{default:f(()=>[i(ce,{to:{path:"/"}},{default:f(()=>[lt(q(e(t)("nav.homepage")),1)]),_:1}),e(c)?(m(),P(ce,{key:0},{default:f(()=>[lt(q(e(p)),1)]),_:1})):A("",!0)]),_:1},8,["separator-icon"])]),C("div",oo,[e(b)?(m(),w("div",lo,[C("button",{class:"hover:cursor-pointer w-5 h-5",onClick:X[0]||(X[0]=H=>v(e(kt)))},[i(Pt,{media:e(kt)},null,8,["media"])])])):A("",!0),e(h)?(m(),w("div",io,[C("button",{class:"hover:cursor-pointer w-5 h-5",onClick:X[1]||(X[1]=H=>v(e(Ra)))},[i(Pt,{media:e(Ra)},null,8,["media"])])])):A("",!0),e(g)?(m(),w("div",so,[i(ke,{func:T,size:"1.1rem"},{default:f(()=>[i(we,{tooltip:e(x)},{default:f(()=>[i(e(Bi),{class:"text-blue-500"})]),_:1},8,["tooltip"])]),_:1})])):A("",!0),e(d)?(m(),w("div",ro,[i(ke,{func:J,size:"1.1rem"},{default:f(()=>[i(we,{tooltip:e(E)},{default:f(()=>[i(e(Fe),{class:"text-blue-500"})]),_:1},8,["tooltip"])]),_:1})])):A("",!0),e(u)?(m(),w("div",co,[i(ke,{func:M,size:"1.1rem"},{default:f(()=>[i(we,{tooltip:e(j)},{default:f(()=>[i(e(va),{class:"text-blue-500"})]),_:1},8,["tooltip"])]),_:1})])):A("",!0),C("div",fo,[i(ke,{func:ae,size:"1.1rem"},{default:f(()=>[i(we,{tooltip:e(ie)},{default:f(()=>[i(e(Ei),{class:"text-blue-500"})]),_:1},8,["tooltip"])]),_:1})]),e(Z)?(m(),P(ee,{key:5,class:"hover:cursor-pointer mr-3",color:"red",size:"1.1rem",onClick:fe},{default:f(()=>[i(e(Ri))]),_:1})):A("",!0),i(ee,{class:"hover:cursor-pointer",size:"1.1rem",onClick:k},{default:f(()=>[i(e(Ti))]),_:1}),e(me)?(m(),P(ee,{key:6,class:"hover:cursor-pointer ml-3",size:"1.1rem",onClick:he},{default:f(()=>[i(e(ji))]),_:1})):A("",!0)])])}}}),po={class:"flex flex-col h-screen text-gray-800 bg-[#fefefe]"},go={class:"border-b-[1px] sticky top-0 z-50 bg-stone-100"},mo={class:"hide-scrollbar flex-1 overflow-auto"},ho=B({__name:"app",setup(n){const a=te(),t=_a();He("article",a);const{t:l}=Q(),o=r(()=>l("setting.template.tag.label"));return Ce(()=>{chrome.runtime.onMessage.addListener(s=>{s.action===ns&&(Vi(s.html,o.value).then(c=>{a.value=c}),t.setTabId(s.tabId),t.setIsIframe(s.isIframe))}),chrome.runtime.sendMessage({action:os})}),(s,c)=>{const p=Ai("router-view");return m(),w("div",po,[C("div",go,[i(uo)]),C("div",mo,[i(p)])])}}}),ta=We("wechat-rtf-config",()=>{const n=te({});return{config:n,init:async()=>{n.value=await chrome.runtime.sendMessage({action:ls})},saveConfig:async a=>{n.value=a,await chrome.runtime.sendMessage({action:is,data:a})}}}),bo=We("xhs-card-config",()=>{const n=te({});return{config:n,init:async()=>{n.value=await chrome.runtime.sendMessage({action:ss})},saveConfig:async a=>{n.value=a,await chrome.runtime.sendMessage({action:rs,data:a})}}}),aa=We("card-config",()=>{const n=te({});return{config:n,init:async()=>{n.value=await chrome.runtime.sendMessage({action:cs})},saveConfig:async a=>{n.value=a,await chrome.runtime.sendMessage({action:fs,data:a})}}}),na=We("image-config",()=>{const n=te({});return{config:n,init:async()=>{n.value=await chrome.runtime.sendMessage({action:us})},saveConfig:async a=>{n.value=a,await chrome.runtime.sendMessage({action:ps,data:a})}}}),oa=We("pdf-config",()=>{const n=te({});return{config:n,init:async()=>{n.value=await chrome.runtime.sendMessage({action:gs})},saveConfig:async a=>{n.value=a,await chrome.runtime.sendMessage({action:ds,data:a})}}}),la=We("slide-config",()=>{const n=te({});return{config:n,init:async()=>{n.value=await chrome.runtime.sendMessage({action:ms})},saveConfig:async a=>{n.value=a,await chrome.runtime.sendMessage({action:hs,data:a})}}}),vo={class:"flex flex-col h-full"},_o={class:"flex-grow p-4"},yo={class:"mb-8"},wo={class:"text mb-4"},Co={class:"flex flex-wrap gap-4"},ko=B({__name:"Home",setup(n){const{t:a,locale:t}=Q(),l=r(()=>t.value==="zh-hans"),o=ao(),s=r(()=>a("format.image")),c=r(()=>a("format.card")),p=r(()=>a("format.slide")),u=r(()=>a("format.plain_text")),g=r(()=>a("format.gzh")),b=r(()=>a("common.coming_soon")),h=Ct();Ce(()=>{Ct().init(),Ca().init(),h.init(),Ue().init(),ka().init(),ta().init(),na().init(),aa().init(),bo().init(),oa().init(),la().init(),chrome.runtime.onMessage.addListener(v=>{v.action===bs&&Ct().init()})});const d=v=>{o.push(`/${v}`)};return(v,k)=>(m(),w("div",vo,[C("div",_o,[C("div",yo,[C("h2",wo,q(e(a)("nav.format")),1),C("div",Co,[i(we,{tooltip:e(s)},{default:f(()=>[C("button",{class:"p-2 hover:cursor-pointer rounded-md bg-amber-500",onClick:k[0]||(k[0]=x=>d(e(O).image))},k[7]||(k[7]=[C("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"#fff",class:"bi bi-file-image w-6 h-6",viewBox:"0 0 16 16"},[C("path",{d:"M8.002 5.5a1.5 1.5 0 1 1-3 0 1.5 1.5 0 0 1 3 0"}),C("path",{d:"M12 0H4a2 2 0 0 0-2 2v12a2 2 0 0 0 2 2h8a2 2 0 0 0 2-2V2a2 2 0 0 0-2-2M3 2a1 1 0 0 1 1-1h8a1 1 0 0 1 1 1v8l-2.083-2.083a.5.5 0 0 0-.76.063L8 11 5.835 9.7a.5.5 0 0 0-.611.076L3 12z"})],-1)]))]),_:1},8,["tooltip"]),i(we,{tooltip:e(c)},{default:f(()=>[C("button",{class:"p-2 hover:cursor-pointer rounded-md bg-purple-500",onClick:k[1]||(k[1]=x=>d(e(O).card))},k[8]||(k[8]=[C("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",fill:"#fff",class:"bi bi-images w-6 h-6",viewBox:"0 0 16 16"},[C("path",{d:"M4.502 9a1.5 1.5 0 1 0 0-3 1.5 1.5 0 0 0 0 3"}),C("path",{d:"M14.002 13a2 2 0 0 1-2 2h-10a2 2 0 0 1-2-2V5A2 2 0 0 1 2 3a2 2 0 0 1 2-2h10a2 2 0 0 1 2 2v8a2 2 0 0 1-1.998 2M14 2H4a1 1 0 0 0-1 1h9.002a2 2 0 0 1 2 2v7A1 1 0 0 0 15 11V3a1 1 0 0 0-1-1M2.002 4a1 1 0 0 0-1 1v8l2.646-2.354a.5.5 0 0 1 .63-.062l2.66 1.773 3.71-3.71a.5.5 0 0 1 .577-.094l1.777 1.947V5a1 1 0 0 0-1-1z"})],-1)]))]),_:1},8,["tooltip"]),i(we,{tooltip:"PDF"},{default:f(()=>[C("button",{class:"p-2 hover:cursor-pointer rounded-md bg-red-500",onClick:k[2]||(k[2]=x=>d(e(O).pdf))},k[9]||(k[9]=[C("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",fill:"#fff",class:"bi bi-file-earmark-pdf w-6 h-6",viewBox:"0 0 16 16"},[C("path",{d:"M14 14V4.5L9.5 0H4a2 2 0 0 0-2 2v12a2 2 0 0 0 2 2h8a2 2 0 0 0 2-2M9.5 3A1.5 1.5 0 0 0 11 4.5h2V14a1 1 0 0 1-1 1H4a1 1 0 0 1-1-1V2a1 1 0 0 1 1-1h5.5z"}),C("path",{d:"M4.603 14.087a.8.8 0 0 1-.438-.42c-.195-.388-.13-.776.08-1.102.198-.307.526-.568.897-.787a7.7 7.7 0 0 1 1.482-.645 20 20 0 0 0 1.062-2.227 7.3 7.3 0 0 1-.43-1.295c-.086-.4-.119-.796-.046-1.136.075-.354.274-.672.65-.823.192-.077.4-.12.602-.077a.7.7 0 0 1 .477.365c.088.164.12.356.127.538.007.188-.012.396-.047.614-.084.51-.27 1.134-.52 1.794a11 11 0 0 0 .98 1.686 5.8 5.8 0 0 1 1.334.05c.364.066.734.195.96.465.12.144.193.32.2.518.007.192-.047.382-.138.563a1.04 1.04 0 0 1-.354.416.86.86 0 0 1-.51.138c-.331-.014-.654-.196-.933-.417a5.7 5.7 0 0 1-.911-.95 11.7 11.7 0 0 0-1.997.406 11.3 11.3 0 0 1-1.02 1.51c-.292.35-.609.656-.927.787a.8.8 0 0 1-.58.029m1.379-1.901q-.25.115-.459.238c-.328.194-.541.383-.647.547-.094.145-.096.25-.04.361q.016.032.026.044l.035-.012c.137-.056.355-.235.635-.572a8 8 0 0 0 .45-.606m1.64-1.33a13 13 0 0 1 1.01-.193 12 12 0 0 1-.51-.858 21 21 0 0 1-.5 1.05zm2.446.45q.226.245.435.41c.24.19.407.253.498.256a.1.1 0 0 0 .07-.015.3.3 0 0 0 .094-.125.44.44 0 0 0 .059-.2.1.1 0 0 0-.026-.063c-.052-.062-.2-.152-.518-.209a4 4 0 0 0-.612-.053zM8.078 7.8a7 7 0 0 0 .2-.828q.046-.282.038-.465a.6.6 0 0 0-.032-.198.5.5 0 0 0-.145.04c-.087.035-.158.106-.196.283-.04.192-.03.469.046.822q.036.167.09.346z"})],-1)]))]),_:1}),i(we,{tooltip:e(p)},{default:f(()=>[C("button",{class:"p-2 hover:cursor-pointer rounded-md bg-blue-500",onClick:k[3]||(k[3]=x=>d(e(O).slide))},k[10]||(k[10]=[C("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",fill:"#fff",class:"bi bi-easel w-6 h-6",viewBox:"0 0 16 16"},[C("path",{d:"M8 0a.5.5 0 0 1 .473.337L9.046 2H14a1 1 0 0 1 1 1v7a1 1 0 0 1-1 1h-1.85l1.323 3.837a.5.5 0 1 1-.946.326L11.092 11H8.5v3a.5.5 0 0 1-1 0v-3H4.908l-1.435 4.163a.5.5 0 1 1-.946-.326L3.85 11H2a1 1 0 0 1-1-1V3a1 1 0 0 1 1-1h4.954L7.527.337A.5.5 0 0 1 8 0M2 3v7h12V3z"})],-1)]))]),_:1},8,["tooltip"]),i(we,{tooltip:e(u)},{default:f(()=>[C("button",{class:"p-2 hover:cursor-pointer rounded-md bg-orange-500",onClick:k[4]||(k[4]=x=>d(e(O).plainText))},k[11]||(k[11]=[C("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",fill:"#fff",class:"bi bi-filetype-txt w-6 h-6",viewBox:"0 0 16 16"},[C("path",{"fill-rule":"evenodd",d:"M14 4.5V14a2 2 0 0 1-2 2h-2v-1h2a1 1 0 0 0 1-1V4.5h-2A1.5 1.5 0 0 1 9.5 3V1H4a1 1 0 0 0-1 1v9H2V2a2 2 0 0 1 2-2h5.5zM1.928 15.849v-3.337h1.136v-.662H0v.662h1.134v3.337zm4.689-3.999h-.894L4.9 13.289h-.035l-.832-1.439h-.932l1.228 1.983-1.24 2.016h.862l.853-1.415h.035l.85 1.415h.907l-1.253-1.992zm1.93.662v3.337h-.794v-3.337H6.619v-.662h3.064v.662H8.546Z"})],-1)]))]),_:1},8,["tooltip"]),e(l)?(m(),P(we,{key:0,tooltip:e(g)},{default:f(()=>[C("button",{class:"hover:cursor-pointer",onClick:k[5]||(k[5]=x=>d(e(O).gzh))},[i(Ts,{media:e(kt)},null,8,["media"])])]),_:1},8,["tooltip"])):A("",!0),i(we,{tooltip:e(b)},{default:f(()=>[C("button",{class:"p-2 hover:cursor-pointer rounded-md bg-gray-300",onClick:k[6]||(k[6]=x=>d(e(O).markdown))},k[12]||(k[12]=[C("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",fill:"#fff",class:"bi bi-markdown w-6 h-6",viewBox:"0 0 16 16"},[C("path",{d:"M14 3a1 1 0 0 1 1 1v8a1 1 0 0 1-1 1H2a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1zM2 2a2 2 0 0 0-2 2v8a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V4a2 2 0 0 0-2-2z"}),C("path",{"fill-rule":"evenodd",d:"M9.146 8.146a.5.5 0 0 1 .708 0L11.5 9.793l1.646-1.647a.5.5 0 0 1 .708.708l-2 2a.5.5 0 0 1-.708 0l-2-2a.5.5 0 0 1 0-.708"}),C("path",{"fill-rule":"evenodd",d:"M11.5 5a.5.5 0 0 1 .5.5v4a.5.5 0 0 1-1 0v-4a.5.5 0 0 1 .5-.5"}),C("path",{d:"M3.56 11V7.01h.056l1.428 3.239h.774l1.42-3.24h.056V11h1.073V5.001h-1.2l-1.71 3.894h-.039l-1.71-3.894H2.5V11z"})],-1)]))]),_:1},8,["tooltip"])])])])]))}}),xo="image-default",So="card-default",zo="pdf-default",Po="gzh-default",Mo="slide-default",ia=B({__name:"FontScale",props:{fontScale:{},size:{}},emits:["saveConfig"],setup(n,{emit:a}){const t=a,l=o=>{t("saveConfig",o)};return(o,s)=>(m(),P(rt,{value:o.fontScale,min:.5,max:5,step:.1,size:o.size,onChange:l},null,8,["value","size"]))}}),Je=B({__name:"Library",props:{isPro:{type:Boolean},templates:{},template:{},formatType:{}},emits:["saveTemplate"],setup(n,{emit:a}){const t=n,{t:l}=Q(),o=a,s=r(()=>l("setting.template.label")),c=()=>{const u=chrome.runtime.getURL("/src/options/index.html");switch(t.formatType){case O.card:chrome.tabs.create({url:u+"#card"});break;case O.image:chrome.tabs.create({url:u+"#long-image"});break;case O.pdf:chrome.tabs.create({url:u+"#pdf"});break;case O.gzh:chrome.tabs.create({url:u+"#gzh"});break;case O.slide:chrome.tabs.create({url:u+"#slide"});break}},p=u=>{o("saveTemplate",u.id)};return(u,g)=>{const b=wt,h=je,d=Ae;return m(),P(e(W),{label:e(s),"show-pro":!u.isPro},{action:f(()=>[i(b,{size:"1.2rem",onClick:c,class:"hover:cursor-pointer"},{default:f(()=>[i(e(Oi),{class:"text-blue-500"})]),_:1})]),default:f(()=>[i(d,{"model-value":t.template,onChange:p,class:"mr-2","value-key":"id"},{default:f(()=>[(m(!0),w(G,null,re(u.templates,v=>(m(),P(h,{key:v.id,label:v.name,value:v},null,8,["label","value"]))),128))]),_:1},8,["model-value"])]),_:1},8,["label","show-pro"])}}}),Bo={class:"flex flex-col gap-4"},Eo={class:"flex flex-row flex-wrap gap-4"},Ro={key:0,class:"flex flex-col gap-2"},To={key:1,class:"flex flex-col gap-2"},jo={class:"flex flex-row gap-4 flex-wrap"},Ke=B({__name:"Page",props:{isPro:{type:Boolean},pageConfig:{},pageType:{}},emits:["saveConfig"],setup(n,{emit:a}){const t=n,{t:l}=Q(),o=a,s=r(()=>l("common.scale")),c=r(()=>l("font.label")),p=r(()=>l("common.space")),u=r(()=>l("setting.template.cover.label")),g=r(()=>l("setting.template.cover.max_height")),b=r(()=>l("setting.template.cover.max_width")),h=r(()=>l("common.position_x")),d=r(()=>l("common.position_y")),v=r(()=>l("setting.template.component.label")),k=r(()=>l("common.height")),x=r(()=>l("common.width")),E=r(()=>l("common.align")),j=r(()=>t.pageType!==Oe.full&&t.pageConfig.type!==Us.float),M=y=>{t.pageConfig.config.scale.space=y,o("saveConfig",t.pageConfig)},T=y=>{t.pageConfig.config.scale.font=y,o("saveConfig",t.pageConfig)},J=y=>{t.pageConfig.config.cover&&(t.pageConfig.config.cover.maxHeight=y,o("saveConfig",t.pageConfig))},ie=y=>{t.pageConfig.config.cover&&(t.pageConfig.config.cover.maxWidth=y,o("saveConfig",t.pageConfig))},ae=y=>{var L;(L=t.pageConfig.config.cover)!=null&&L.position&&(t.pageConfig.config.cover.position.x=y,o("saveConfig",t.pageConfig))},Z=y=>{var L;(L=t.pageConfig.config.cover)!=null&&L.position&&(t.pageConfig.config.cover.position.y=y,o("saveConfig",t.pageConfig))},me=r(()=>Gs(t.pageConfig.type)),fe=y=>{t.pageConfig.config.component&&(t.pageConfig.config.component.display=y,o("saveConfig",t.pageConfig))},he=r(()=>$a(t.pageConfig.type,t.pageType)),U=r(()=>{var y,L;return La(((L=(y=t.pageConfig.config.layer)==null?void 0:y.position)==null?void 0:L.y)??0)}),X=y=>{t.pageConfig.config.layer.heightPercent=y,o("saveConfig",t.pageConfig)},ce=y=>{t.pageConfig.config.layer.widthPercent=y,o("saveConfig",t.pageConfig)},ve=y=>{t.pageConfig.config.textArea&&(t.pageConfig.config.textArea.widthPercent=y,o("saveConfig",t.pageConfig))},ee=y=>{var L;(L=t.pageConfig.config.textArea)!=null&&L.position&&(t.pageConfig.config.textArea.position.x=y,o("saveConfig",t.pageConfig))},H=y=>{var L;(L=t.pageConfig.config.textArea)!=null&&L.position&&(t.pageConfig.config.textArea.position.y=y,o("saveConfig",t.pageConfig))},K=y=>{t.pageConfig.config.layer.position={...t.pageConfig.config.layer.position,y:Ha(y)},o("saveConfig",t.pageConfig)};return(y,L)=>{var ne,Te,V,de,_e;return m(),w("div",Bo,[i(e(W),{label:e(s)},{default:f(()=>[C("div",Eo,[i(e(W),{"label-position":"left",label:e(c),"no-bold":""},{default:f(()=>[i(e(ia),{"font-scale":t.pageConfig.config.scale.font,size:"small",onSaveConfig:T},null,8,["font-scale"])]),_:1},8,["label"]),i(e(W),{"label-position":"left",label:e(p),"no-bold":""},{default:f(()=>[i(e(Ta),{"space-scale":t.pageConfig.config.scale.space,size:"small",onSaveConfig:M},null,8,["space-scale"])]),_:1},8,["label"])])]),_:1},8,["label"]),t.pageConfig.config.cover?(m(),P(e(W),{key:0,label:e(u)},{default:f(()=>[e(me)?A("",!0):(m(),w("div",Ro,[i(e(W),{"label-position":"left",label:e(g),"no-bold":""},{default:f(()=>[i(e(js),{"max-height":t.pageConfig.config.cover.maxHeight,size:"small",onSaveConfig:J},null,8,["max-height"])]),_:1},8,["label"]),i(e(W),{"label-position":"left",label:e(d),"no-bold":""},{default:f(()=>{var ue;return[i(e(ct),{value:(ue=t.pageConfig.config.cover.position)==null?void 0:ue.y,size:"small",onSave:Z},null,8,["value"])]}),_:1},8,["label"])])),e(me)?(m(),w("div",To,[i(e(W),{"label-position":"left",label:e(b),"no-bold":""},{default:f(()=>[i(e(As),{"max-width":t.pageConfig.config.cover.maxWidth,size:"small",onSaveConfig:ie},null,8,["max-width"])]),_:1},8,["label"]),i(e(W),{"label-position":"left",label:e(h),"no-bold":""},{default:f(()=>{var ue;return[i(e(ct),{value:(ue=t.pageConfig.config.cover.position)==null?void 0:ue.x,size:"small",onSave:ae},null,8,["value"])]}),_:1},8,["label"])])):A("",!0)]),_:1},8,["label"])):A("",!0),t.pageConfig.config.component?(m(),P(e(W),{key:1,label:e(v),"show-pro":!y.isPro},{default:f(()=>{var ue;return[C("div",jo,[i(e(ja),{components:e(he),config:(ue=t.pageConfig.config.component)==null?void 0:ue.display,disabled:!y.isPro,onSaveConfig:fe},null,8,["components","config","disabled"])])]}),_:1},8,["label","show-pro"])):A("",!0),t.pageConfig.config.layer.heightPercent?(m(),P(e(W),{key:2,label:e(k)},{default:f(()=>[i(e(xt),{percent:t.pageConfig.config.layer.heightPercent,size:"small",onSave:X},null,8,["percent"])]),_:1},8,["label"])):A("",!0),t.pageConfig.config.layer.widthPercent?(m(),P(e(W),{key:3,label:e(x)},{default:f(()=>[i(e(xt),{percent:t.pageConfig.config.layer.widthPercent,size:"small",onSave:ce},null,8,["percent"])]),_:1},8,["label"])):A("",!0),(ne=t.pageConfig.config.textArea)!=null&&ne.widthPercent?(m(),P(e(W),{key:4,label:e(x)},{default:f(()=>[i(e(xt),{percent:t.pageConfig.config.textArea.widthPercent,size:"small",onSave:ve},null,8,["percent"])]),_:1},8,["label"])):A("",!0),(V=(Te=t.pageConfig.config.textArea)==null?void 0:Te.position)!=null&&V.x?(m(),P(e(W),{key:5,label:e(h)},{default:f(()=>{var ue;return[i(e(ct),{value:(ue=t.pageConfig.config.textArea.position)==null?void 0:ue.x,size:"small",onSave:ee},null,8,["value"])]}),_:1},8,["label"])):A("",!0),(_e=(de=t.pageConfig.config.textArea)==null?void 0:de.position)!=null&&_e.y?(m(),P(e(W),{key:6,label:e(d)},{default:f(()=>{var ue;return[i(e(ct),{value:(ue=t.pageConfig.config.textArea.position)==null?void 0:ue.y,size:"small",onSave:H},null,8,["value"])]}),_:1},8,["label"])):A("",!0),e(j)?(m(),P(e(W),{key:7,label:e(E)},{default:f(()=>[i(e(Aa),{align:e(U),onSaveConfig:K},null,8,["align"])]),_:1},8,["label"])):A("",!0)])}}}),Ao={class:"flex flex-col gap-4"},Oo={class:"flex flex-row flex-wrap gap-4"},qo={class:"flex flex-row gap-4 flex-wrap"},_t=B({__name:"ContentPage",props:{pageConfig:{},isPro:{type:Boolean}},emits:["saveConfig"],setup(n,{emit:a}){const t=n,{t:l}=Q(),o=a,s=r(()=>l("common.scale")),c=r(()=>l("font.label")),p=r(()=>l("common.space")),u=r(()=>l("setting.template.component.display")),g=E=>{t.pageConfig.config.scale.space=E,o("saveConfig",t.pageConfig)},b=r(()=>l("common.align")),h=r(()=>$a(t.pageConfig.type,Oe.content)),d=E=>{t.pageConfig.config.component&&(t.pageConfig.config.component.display=E,o("saveConfig",t.pageConfig))},v=E=>{t.pageConfig.config.scale.font=E,o("saveConfig",t.pageConfig)},k=r(()=>{var E,j;return La(((j=(E=t.pageConfig.config.layer)==null?void 0:E.position)==null?void 0:j.y)??0)}),x=E=>{t.pageConfig.config.layer.position={...t.pageConfig.config.layer.position,y:Ha(E)},o("saveConfig",t.pageConfig)};return(E,j)=>(m(),w("div",Ao,[i(e(W),{label:e(s)},{default:f(()=>[C("div",Oo,[i(e(W),{"label-position":"left",label:e(c),"no-bold":""},{default:f(()=>[i(e(ia),{"font-scale":t.pageConfig.config.scale.font,size:"small",onSaveConfig:v},null,8,["font-scale"])]),_:1},8,["label"]),i(e(W),{"label-position":"left",label:e(p),"no-bold":""},{default:f(()=>[i(e(Ta),{"space-scale":t.pageConfig.config.scale.space,size:"small",onSaveConfig:g},null,8,["space-scale"])]),_:1},8,["label"])])]),_:1},8,["label"]),t.pageConfig.config.component?(m(),P(e(W),{key:0,label:e(u),"show-pro":!E.isPro},{default:f(()=>{var M;return[C("div",qo,[i(e(ja),{components:e(h),config:(M=t.pageConfig.config.component)==null?void 0:M.display,disabled:!t.isPro,onSaveConfig:d},null,8,["components","config","disabled"])])]}),_:1},8,["label","show-pro"])):A("",!0),i(e(W),{label:e(b)},{default:f(()=>[i(e(Aa),{align:e(k),onSaveConfig:x},null,8,["align"])]),_:1},8,["label"])]))}}),Io={class:"flex flex-row gap-4 flex-wrap"},nt=B({__name:"Author",props:{config:{},isPro:{type:Boolean}},emits:["saveConfig"],setup(n,{emit:a}){const{t}=Q(),l=r(()=>t("setting.template.author.label")),o=n,s=a,c=ka(),p=r(()=>c.authors.find(b=>b.brand.id===o.config.config.authorId)),u=r(()=>c.authors),g=b=>{o.config.config.authorId=b.brand.id,s("saveConfig",o.config)};return(b,h)=>(m(),P(e(W),{label:e(l),"show-pro":!b.isPro},{default:f(()=>[C("div",Io,[i(e(Os),{author:e(p),authors:e(u),onSelectAuthor:g},null,8,["author","authors"])])]),_:1},8,["label","show-pro"]))}}),le=B({__name:"TabWrapper",setup(n){return(a,t)=>(m(),P(e(Ge),{class:"border-t border-stone-200",onWheel:t[0]||(t[0]=qi(()=>{},["prevent"]))},{default:f(()=>[Ve(a.$slots,"default")]),_:3}))}}),$o={class:"p-4"},I=B({__name:"TabPanelWrapper",props:{label:{}},setup(n){return(a,t)=>(m(),P(e(Y),{label:a.label},{default:f(()=>[C("div",$o,[Ve(a.$slots,"default")])]),_:3},8,["label"]))}}),Lo={class:"text-sm text-gray-500 mt-4"},Ho={class:"mb-2"},ot=B({__name:"Font",props:{config:{},isPro:{type:Boolean},isGZH:{type:Boolean}},emits:["saveConfig"],setup(n,{emit:a}){const t=n,{t:l}=Q(),o=a,s=r(()=>l("setting.template.font.global")),c=r(()=>l("setting.template.font.font_family")),p=r(()=>l("setting.template.font.multi_fonts_hint")),u=r(()=>l("setting.template.font.title")),g=r(()=>t.isGZH?[vs,_s,ys]:Ca().fonts),b=v=>{t.config.fonts=v,d(t.config)},h=v=>{t.config.title=v,d(t.config)},d=v=>{Pe(Me(v)),o("saveConfig",v)};return(v,k)=>(m(),P(le,null,{default:f(()=>[i(I,{label:e(s)},{default:f(()=>[i(e(W),{label:e(c),"show-pro":!v.isPro},{default:f(()=>[i(e(qs),{"font-families":t.config.fonts,"font-options":e(g),onSaveFonts:b},null,8,["font-families","font-options"])]),_:1},8,["label","show-pro"]),C("div",Lo,[C("p",Ho,q(e(p)),1)])]),_:1},8,["label"]),i(I,{label:e(u)},{default:f(()=>[i(e(Is),{config:v.config.title,"font-options":e(g),onSaveConfig:h},null,8,["config","font-options"])]),_:1},8,["label"])]),_:1}))}}),Vo=B({__name:"preset",props:{config:{}},emits:["saveConfig"],setup(n,{emit:a}){const t=n;Q();const l=Object.values(Zs),o=a,s=c=>{o("saveConfig",{...t.config,ratio:c})};return(c,p)=>{const u=je,g=Ae;return m(),P(g,{"model-value":t.config.ratio,placeholder:"Select",style:{width:"100px"},size:"small",onChange:s},{default:f(()=>[(m(!0),w(G,null,re(e(l),b=>(m(),P(u,{key:b,label:b,value:b},null,8,["label","value"]))),128))]),_:1},8,["model-value"])}}}),Fo={class:"flex items-center gap-8 flex-wrap"},Wo=B({__name:"custom",props:{config:{}},emits:["saveConfig"],setup(n,{emit:a}){const t=n,{t:l}=Q(),o=a,s=l("setting.template.ratio.width"),c=l("setting.template.ratio.height"),p=g=>{o("saveConfig",{...t.config,width:g})},u=g=>{o("saveConfig",{...t.config,height:g})};return(g,b)=>(m(),w("div",Fo,[i(W,{label:e(s),"label-position":"left","no-bold":""},{default:f(()=>[i(rt,{value:t.config.width,size:"small",min:1,onChange:p},null,8,["value"])]),_:1},8,["label"]),i(W,{label:e(c),"label-position":"left","no-bold":""},{default:f(()=>[i(rt,{value:t.config.height,size:"small",min:1,onChange:u},null,8,["value"])]),_:1},8,["label"])]))}}),Uo={class:"mb-2"},Go=B({__name:"ratio",props:{config:{}},emits:["saveConfig"],setup(n,{emit:a}){const t=n,{t:l}=Q(),o=a,s=[xe.preset,xe.custom],c=te(t.config.type===xe.preset?t.config.config:Ns()),p=te(t.config.type===xe.custom?t.config.config:Qs()),u=d=>l(`setting.template.ratio.type_${d}`),g=d=>{c.value=d,o("saveConfig",{type:xe.preset,config:d})},b=d=>{p.value=d,o("saveConfig",{type:xe.custom,config:d})},h=d=>{switch(d){case xe.preset:g(c.value);break;case xe.custom:b(p.value);break}};return(d,v)=>{const k=Oa,x=qa;return m(),w(G,null,[C("div",Uo,[i(x,{"model-value":t.config.type,onChange:h},{default:f(()=>[(m(),w(G,null,re(s,E=>i(k,{key:E,value:E},{default:f(()=>[lt(q(u(E)),1)]),_:2},1032,["value"])),64))]),_:1},8,["model-value"])]),t.config.type===e(xe).preset?(m(),P(Vo,{key:0,config:t.config.config,onSaveConfig:g},null,8,["config"])):A("",!0),t.config.type===e(xe).custom?(m(),P(Wo,{key:1,config:t.config.config,onSaveConfig:b},null,8,["config"])):A("",!0)],64)}}}),Zo={class:"flex flex-row gap-4 items-center"},No={key:0,class:"text-sm"},Qo={class:"text-sm text-gray-500 mt-4"},sa=B({__name:"Resolution",props:{scale:{},ratio:{}},emits:["save-scale"],setup(n,{emit:a}){const t=n,{t:l}=Q(),o=a,s=r(()=>l("common.scale")),c=r(()=>l("common.resolution")),p=r(()=>l("setting.template.resolution.hint",{scale:u.value})),u=r(()=>t.scale??rr),g=d=>{o("save-scale",d)},b=r(()=>{if(t.ratio){const d=Ds(t.ratio);return Math.floor(Wa*u.value*d)}}),h=r(()=>Wa*u.value);return(d,v)=>(m(),w(G,null,[C("div",Zo,[i(W,{label:e(s),"label-position":"left","no-bold":""},{default:f(()=>[i(rt,{value:e(u),min:1,max:10,size:"small",onChange:g},null,8,["value"])]),_:1},8,["label"]),d.ratio?(m(),w("p",No,q(e(c))+" : "+q(e(h))+" * "+q(e(b)),1)):A("",!0)]),C("p",Qo,q(e(p)),1)],64))}}),yt=B({__name:"Separator",props:{separator:{}},emits:["saveConfig"],setup(n,{emit:a}){const t=n,{t:l}=Q(),o=Object.values(Va),s=a,c=u=>{s("saveConfig",u)},p=r(()=>l("common.page_separator"));return(u,g)=>{const b=je,h=Ae;return m(),P(e(W),{label:e(p)},{default:f(()=>[i(h,{"model-value":t.separator??e(Va).equal,placeholder:"Select",style:{width:"200px"},onChange:c},{default:f(()=>[(m(!0),w(G,null,re(e(o),d=>(m(),P(b,{key:d,label:d,value:d},null,8,["label","value"]))),128))]),_:1},8,["model-value"])]),_:1},8,["label"])}}}),ra=B({__name:"Format",props:{imageFormat:{}},emits:["saveConfig"],setup(n,{emit:a}){const t=n,{t:l}=Q(),o=Object.values(Fa),s=a,c=u=>{s("saveConfig",u)},p=r(()=>l("common.image_format"));return(u,g)=>{const b=je,h=Ae;return m(),P(e(W),{label:e(p)},{default:f(()=>[i(h,{"model-value":t.imageFormat??e(Fa).png,placeholder:"Select",style:{width:"200px"},onChange:c},{default:f(()=>[(m(!0),w(G,null,re(e(o),d=>(m(),P(b,{key:d,label:d,value:d},null,8,["label","value"]))),128))]),_:1},8,["model-value"])]),_:1},8,["label"])}}}),Do={class:"list-decimal list-inside text-sm"},Jo={class:"list-decimal list-inside text-sm"},Ko=B({__name:"menu",props:{cardConfig:{}},emits:["save-config"],setup(n,{emit:a}){const t=n,l=a,{t:o}=Q(),s=xa(),c=Ue(),p=r(()=>o("setting.template.label")),u=r(()=>o("setting.template.template.library")),g=te([]),b=r(()=>{const V=t.cardConfig.templateId;return g.value.find(de=>de.id===V)??h}),h={id:So,name:o("common.default"),config:Js()},d=V=>{const de=g.value.find(_e=>_e.id===V);de&&(ee({templateId:de.id}),Te(de))},v=V=>{s.config.page=V},k=V=>{s.config.contentPage=V},x=r(()=>o("setting.template.template.first_page")),E=r(()=>o("setting.template.template.content_page")),j=r(()=>o("setting.template.author.label")),M=V=>{s.config.author=V},T=r(()=>o("setting.template.component.label")),J=r(()=>o("font.label")),ie=V=>{s.config.font=V,Pe(Me(V))},ae=r(()=>o("setting.template.ratio.label")),Z=r(()=>o("common.resolution")),me=r(()=>o("common.basic")),fe=r(()=>o("common.separator")),he=r(()=>o("common.image_format")),U=V=>{ee({...t.cardConfig,ratio:V}),s.config.ratio=V},X=V=>{ee({...t.cardConfig,scale:V})},ce=V=>{ee({...t.cardConfig,separator:V})},ve=V=>{ee({...t.cardConfig,imageFormat:V})},ee=V=>{l("save-config",V)},H=r(()=>o("common.tips")),K=r(()=>o("common.hint")),y=r(()=>o("common.faq")),L=r(()=>[o("card.tip_1"),o("card.tip_2"),o("card.tip_3"),o("card.tip_4")]),ne=r(()=>[o("card.faq_1"),o("card.faq_2"),o("card.faq_3")]),Te=(V,de)=>{s.init(V,de),Pe(Me(s.config.font))};return Ce(async()=>{const V=await chrome.runtime.sendMessage({action:ws});g.value=[h,...V],Te(b.value,t.cardConfig)}),(V,de)=>(m(),P(e(Ge),{"is-reverse":"",collapsable:""},{default:f(()=>[i(e(Y),{label:e(me)},{default:f(()=>[i(e(le),null,{default:f(()=>[i(e(I),{label:e(ae)},{default:f(()=>[i(e(Go),{config:e(s).config.ratio,onSaveConfig:U},null,8,["config"])]),_:1},8,["label"]),i(e(I),{label:e(Z)},{default:f(()=>[i(e(sa),{scale:t.cardConfig.scale,ratio:e(s).config.ratio,onSaveScale:X},null,8,["scale","ratio"])]),_:1},8,["label"]),i(e(I),{label:e(fe)},{default:f(()=>[i(e(yt),{separator:t.cardConfig.separator,onSaveConfig:ce},null,8,["separator"])]),_:1},8,["label"]),i(e(I),{label:e(he)},{default:f(()=>[i(e(ra),{"image-format":t.cardConfig.imageFormat,onSaveConfig:ve},null,8,["image-format"])]),_:1},8,["label"])]),_:1})]),_:1},8,["label"]),i(e(Y),{label:e(p)},{default:f(()=>[i(e(le),null,{default:f(()=>[i(e(I),{label:e(u)},{default:f(()=>[i(e(Je),{"is-pro":e(c).isPro,templates:e(g),template:e(b),"format-type":e(O).card,onSaveTemplate:d},null,8,["is-pro","templates","template","format-type"])]),_:1},8,["label"]),i(e(I),{label:e(x)},{default:f(()=>[i(e(Ke),{"page-config":e(s).config.page,"page-type":e(Oe).first,"is-pro":e(c).isPro,onSaveConfig:v},null,8,["page-config","page-type","is-pro"])]),_:1},8,["label"]),i(e(I),{label:e(E)},{default:f(()=>[i(e(_t),{"page-config":e(s).config.contentPage,"is-pro":e(c).isPro,onSaveConfig:k},null,8,["page-config","is-pro"])]),_:1},8,["label"])]),_:1})]),_:1},8,["label"]),i(e(Y),{label:e(T)},{default:f(()=>[i(e(le),null,{default:f(()=>[i(e(I),{label:e(j)},{default:f(()=>[i(e(nt),{config:e(s).config.author,"is-pro":e(c).isPro,onSaveConfig:M},null,8,["config","is-pro"])]),_:1},8,["label"])]),_:1})]),_:1},8,["label"]),i(e(Y),{label:e(J)},{default:f(()=>[i(e(ot),{config:e(s).config.font,"is-pro":e(c).isPro,onSaveConfig:ie},null,8,["config","is-pro"])]),_:1},8,["label"]),i(e(Y),{label:e(K)},{default:f(()=>[i(e(le),null,{default:f(()=>[i(e(I),{label:e(H)},{default:f(()=>[C("ol",Do,[(m(!0),w(G,null,re(e(L),_e=>(m(),w("li",null,q(_e),1))),256))])]),_:1},8,["label"]),i(e(I),{label:e(y)},{default:f(()=>[C("ol",Jo,[(m(!0),w(G,null,re(e(ne),_e=>(m(),w("li",null,q(_e),1))),256))])]),_:1},8,["label"])]),_:1})]),_:1},8,["label"])]),_:1}))}}),Yo={class:"flex flex-col h-full"},Xo={class:"flex flex-col flex-grow justify-center items-center"},el={class:"sticky bottom-0 bg-white"},tl=B({__name:"view",props:{article:{}},setup(n){const a=aa(),t=xa(),l=r(()=>new Fi(t.config)),o=s=>{a.saveConfig(s)};return(s,c)=>(m(),w("div",Yo,[C("div",Xo,[i(st,{padding:32},{default:f(({maxWidth:p})=>[i($s,{"can-download":"",article:s.article,"max-width":p,"render-config":e(l),"user-config":e(a).config},null,8,["article","max-width","render-config","user-config"])]),_:1})]),C("div",el,[i(Ko,{"card-config":e(a).config,onSaveConfig:o},null,8,["card-config"])])]))}}),al={class:"list-decimal list-inside text-sm"},nl={class:"list-decimal list-inside text-sm"},ol=B({__name:"menu",props:{imageConfig:{}},emits:["save-config"],setup(n,{emit:a}){const t=n,l=a,{t:o}=Q(),s=Sa(),c=Ue(),p=r(()=>o("setting.template.label")),u=r(()=>o("setting.template.template.library")),g=te([]),b=r(()=>{const H=t.imageConfig.templateId;return g.value.find(K=>K.id===H)??h}),h={id:xo,name:o("common.default"),config:Ks()},d=H=>{const K=g.value.find(y=>y.id===H);K&&(fe({templateId:K.id}),ee(K))},v=r(()=>o("setting.template.template.page")),k=H=>{s.config.page=H},x=r(()=>o("common.basic")),E=r(()=>o("common.resolution")),j=r(()=>o("common.image_format")),M=r(()=>o("setting.template.author.label")),T=H=>{s.config.author=H},J=r(()=>o("setting.template.component.label")),ie=r(()=>o("font.label")),ae=H=>{s.config.font=H,Pe(Me(H))},Z=H=>{fe({...t.imageConfig,scale:H})},me=H=>{fe({...t.imageConfig,imageFormat:H})},fe=H=>{l("save-config",H)},he=r(()=>o("common.tips")),U=r(()=>o("common.hint")),X=r(()=>o("common.faq")),ce=r(()=>[o("image.tip_1"),o("image.tip_2"),o("image.tip_3")]),ve=r(()=>[o("image.faq_1")]),ee=(H,K)=>{s.init(H,K),Pe(Me(s.config.font))};return Ce(async()=>{const H=await chrome.runtime.sendMessage({action:Cs});g.value=[h,...H],ee(b.value,t.imageConfig)}),(H,K)=>(m(),P(e(Ge),{"is-reverse":"",collapsable:""},{default:f(()=>[i(e(Y),{label:e(x)},{default:f(()=>[i(e(le),null,{default:f(()=>[i(e(I),{label:e(E)},{default:f(()=>[i(e(sa),{scale:H.imageConfig.scale,onSaveScale:Z},null,8,["scale"])]),_:1},8,["label"]),i(e(I),{label:e(j)},{default:f(()=>[i(e(ra),{"image-format":t.imageConfig.imageFormat,onSaveConfig:me},null,8,["image-format"])]),_:1},8,["label"])]),_:1})]),_:1},8,["label"]),i(e(Y),{label:e(p)},{default:f(()=>[i(e(le),null,{default:f(()=>[i(e(I),{label:e(u)},{default:f(()=>[i(e(Je),{"is-pro":e(c).isPro,templates:e(g),template:e(b),"format-type":e(O).image,onSaveTemplate:d},null,8,["is-pro","templates","template","format-type"])]),_:1},8,["label"]),i(e(I),{label:e(v)},{default:f(()=>[i(e(Ke),{"page-config":e(s).config.page,"page-type":e(Oe).full,"is-pro":e(c).isPro,onSaveConfig:k},null,8,["page-config","page-type","is-pro"])]),_:1},8,["label"])]),_:1})]),_:1},8,["label"]),i(e(Y),{label:e(J)},{default:f(()=>[i(e(le),null,{default:f(()=>[i(e(I),{label:e(M)},{default:f(()=>[i(e(nt),{config:e(s).config.author,"is-pro":e(c).isPro,onSaveConfig:T},null,8,["config","is-pro"])]),_:1},8,["label"])]),_:1})]),_:1},8,["label"]),i(e(Y),{label:e(ie)},{default:f(()=>[i(e(ot),{config:e(s).config.font,"is-pro":e(c).isPro,onSaveConfig:ae},null,8,["config","is-pro"])]),_:1},8,["label"]),i(e(Y),{label:e(U)},{default:f(()=>[i(e(le),null,{default:f(()=>[i(e(I),{label:e(he)},{default:f(()=>[C("ol",al,[(m(!0),w(G,null,re(e(ce),y=>(m(),w("li",null,q(y),1))),256))])]),_:1},8,["label"]),i(e(I),{label:e(X)},{default:f(()=>[C("ol",nl,[(m(!0),w(G,null,re(e(ve),y=>(m(),w("li",null,q(y),1))),256))])]),_:1},8,["label"])]),_:1})]),_:1},8,["label"])]),_:1}))}}),ll={class:"flex flex-col h-full"},il={class:"flex flex-col flex-grow justify-center items-center"},sl={class:"sticky bottom-0 bg-white"},rl=B({__name:"view",props:{article:{}},setup(n){const a=Sa(),t=na(),l=s=>{t.saveConfig(s)},o=r(()=>new Wi(a.config));return(s,c)=>(m(),w("div",ll,[C("div",il,[i(st,{padding:32},{default:f(({maxWidth:p})=>[i(Ls,{article:s.article,"max-width":p,"render-config":e(o),"user-config":e(t).config,"can-download":""},null,8,["article","max-width","render-config","user-config"])]),_:1})]),C("div",sl,[i(ol,{"image-config":e(t).config,onSaveConfig:l},null,8,["image-config"])])]))}}),cl={class:"shadow rounded"},fl={class:"flex flex-row justify-between items-center p-2 bg-gray-100"},ul={class:"text-sm"},pl={class:"flex flex-row gap-3"},gl={class:"p-3"},Ye=B({__name:"CollapseBox",props:{label:{type:String,required:!0}},setup(n){return(a,t)=>(m(),w("div",cl,[C("div",fl,[C("span",ul,q(n.label),1),C("div",pl,[Ve(a.$slots,"actions")])]),C("div",gl,[Ve(a.$slots,"content")])]))}}),dl={class:"grid grid-cols-1 gap-8 min-w-[300px]"},ml={class:"text-xl font-bold"},hl=B({__name:"content",props:{article:{type:Object,required:!0},renderConfig:{type:Object,required:!0}},setup(n){const a=n,t=r(()=>{var g;return((g=a.article.title.content)==null?void 0:g.concatText)??""}),l=r(()=>({title:t}));He("pageInfo",l);const o=async()=>{const g=new ClipboardItem({"text/plain":new Blob([t.value],{type:"text/plain"})});await navigator.clipboard.write([g])},s=r(()=>a.article.cover),c=async()=>{var b,h;const g=(h=(b=s.value)==null?void 0:b.content)==null?void 0:h.src;g&&fetch(g).then(d=>d.blob()).then(d=>{const v=URL.createObjectURL(d),k=document.createElement("a");k.href=v,k.download="cover.png",k.click()})},p=async()=>{if(!s.value)return;const g=document.querySelectorAll(".cover");if(g.length===0)return;const b=g[0],h=b.querySelector("img");if(h&&!h.src.startsWith("data:")){const v=await ks(h.src);v&&(h.src=v.data)}const d=new ClipboardItem({"text/html":new Blob([b.outerHTML],{type:"text/html"})});await navigator.clipboard.write([d])},u=async()=>{await wa().copy()};return(g,b)=>(m(),w("div",dl,[e(s)?(m(),P(Ye,{key:0,label:g.$t("common.cover")},{actions:f(()=>[i(ke,{func:c},{default:f(()=>[i(e(va),{class:"text-blue-500"})]),_:1}),i(ke,{func:p},{default:f(()=>[i(e(Fe),{class:"text-blue-500"})]),_:1})]),content:f(()=>[i(Ui,{block:e(s),renderConfig:n.renderConfig,"is-margin":{top:!1,bottom:!1,left:!1,right:!1},"style-type":e(Gi).default},null,8,["block","renderConfig","style-type"])]),_:1},8,["label"])):A("",!0),i(Ye,{label:g.$t("common.title")},{actions:f(()=>[i(ke,{func:o},{default:f(()=>[i(e(Fe),{class:"text-blue-500"})]),_:1})]),content:f(()=>[C("h1",ml,q(e(t)),1)]),_:1},8,["label"]),i(Ye,{label:g.$t("common.content")},{actions:f(()=>[i(ke,{func:u},{default:f(()=>[i(e(Fe),{class:"text-blue-500"})]),_:1})]),content:f(()=>[i(Hs,{article:n.article,"render-config":n.renderConfig,"can-copy":""},null,8,["article","render-config"])]),_:1},8,["label"])]))}}),bl={class:"list-decimal list-inside text-sm"},vl=B({__name:"menu",setup(n){const{t:a}=Q(),t=ta(),l=za(),o=Ue(),s=r(()=>a("setting.template.label")),c=te([]),p=r(()=>{const j=t.config.templateId;return c.value.find(M=>M.id===j)??u}),u={id:Po,name:a("common.default"),config:Ys()},g=j=>{const M=c.value.find(T=>T.id===j);M&&(d({templateId:M.id}),l.init(M))},b=r(()=>a("setting.template.template.library")),h=r(()=>a("setting.template.template.page")),d=j=>{t.saveConfig(j)},v=j=>{l.config.page=j},k=r(()=>[a("wechat.tip_1")]),x=r(()=>a("common.tips")),E=r(()=>a("common.hint"));return Ce(async()=>{const j=await chrome.runtime.sendMessage({action:xs});c.value=[u,...j],l.init(p.value,t.config)}),(j,M)=>(m(),P(e(Ge),{"is-reverse":"",collapsable:""},{default:f(()=>[i(e(Y),{label:e(s)},{default:f(()=>[i(e(le),null,{default:f(()=>[i(e(I),{label:e(b)},{default:f(()=>[i(e(Je),{"is-pro":e(o).isPro,templates:e(c),template:e(p),"format-type":e(O).gzh,onSaveTemplate:g},null,8,["is-pro","templates","template","format-type"])]),_:1},8,["label"]),i(e(I),{label:e(h)},{default:f(()=>[i(e(Ke),{"page-config":e(l).config.page,"page-type":e(Oe).full,"is-pro":e(o).isPro,onSaveConfig:v},null,8,["page-config","page-type","is-pro"])]),_:1},8,["label"])]),_:1})]),_:1},8,["label"]),i(e(Y),{label:e(E)},{default:f(()=>[i(e(le),null,{default:f(()=>[i(e(I),{label:e(x)},{default:f(()=>[C("ol",bl,[(m(!0),w(G,null,re(e(k),T=>(m(),w("li",null,q(T),1))),256))])]),_:1},8,["label"])]),_:1})]),_:1},8,["label"])]),_:1}))}}),_l={class:"flex flex-col h-full"},yl={class:"flex-grow items-center p-8"},wl={class:"sticky bottom-0 bg-white"},Cl=B({__name:"view",props:{article:{}},setup(n){const a=za(),t=r(()=>new Zi(a.config));return(l,o)=>(m(),w("div",_l,[C("div",yl,[i(hl,{article:l.article,"render-config":e(t)},null,8,["article","render-config"])]),C("div",wl,[i(vl)])]))}}),kl={};function xl(n,a){return null}const Sl=Pa(kl,[["render",xl]]),zl={class:"flex flex-row flex-wrap gap-4 items-center"},Pl=B({__name:"pdf",props:{config:{}},emits:["saveConfig"],setup(n,{emit:a}){const t=n,{t:l}=Q(),o=a,s=r(()=>l("setting.template.size.landscape")),c=Object.values(Xs),p=g=>{t.config.type=g,o("saveConfig",t.config)},u=g=>{t.config.landscape=g,o("saveConfig",t.config)};return(g,b)=>{const h=je,d=Ae;return m(),w("div",zl,[i(d,{"model-value":t.config.type,placeholder:"Select",size:"small",style:{width:"150px"},onChange:p},{default:f(()=>[(m(!0),w(G,null,re(e(c),v=>(m(),P(h,{key:v,label:v,value:v},null,8,["label","value"]))),128))]),_:1},8,["model-value"]),i(W,{label:e(s),"label-position":"left","no-bold":""},{default:f(()=>[i(Vs,{size:"small",value:t.config.landscape,onSaveConfig:u},null,8,["value"])]),_:1},8,["label"])])}}}),Ml={class:"flex items-center flex-wrap gap-4"},Bl=B({__name:"custom",props:{config:{}},emits:["saveConfig"],setup(n,{emit:a}){const t=n,{t:l}=Q(),o=a,s=r(()=>Object.values(Ss).map(d=>({label:l(`setting.template.size.${d}`),value:d}))),c=l("setting.template.size.width"),p=l("setting.template.size.height"),u=l("setting.template.size.unit"),g=d=>{o("saveConfig",{...t.config,size:{...t.config.size,width:d}})},b=d=>{o("saveConfig",{...t.config,size:{...t.config.size,height:d}})},h=d=>{o("saveConfig",{...t.config,size:{...t.config.size,unit:d}})};return(d,v)=>{const k=je,x=Ae;return m(),w("div",Ml,[i(W,{label:e(c),"label-position":"left","no-bold":""},{default:f(()=>[i(e(Ia),{value:t.config.size.width,unit:t.config.size.unit,onSave:g},null,8,["value","unit"])]),_:1},8,["label"]),i(W,{label:e(p),"label-position":"left","no-bold":""},{default:f(()=>[i(e(Ia),{value:t.config.size.height,unit:t.config.size.unit,onSave:b},null,8,["value","unit"])]),_:1},8,["label"]),i(W,{label:e(u),"label-position":"left","no-bold":""},{default:f(()=>[i(x,{"model-value":t.config.size.unit,placeholder:"Select",style:{width:"150px"},size:"small",onChange:h},{default:f(()=>[(m(!0),w(G,null,re(e(s),E=>(m(),P(k,{key:E.value,label:E.label,value:E.value},null,8,["label","value"]))),128))]),_:1},8,["model-value"])]),_:1},8,["label"])])}}}),El={class:"flex flex-row flex-wrap gap-4 items-center"},Rl=B({__name:"slide",props:{config:{}},emits:["saveConfig"],setup(n,{emit:a}){const t=n;Q();const l=a,o=Object.values(er),s=c=>{t.config.type=c,l("saveConfig",t.config)};return(c,p)=>{const u=je,g=Ae;return m(),w("div",El,[i(g,{"model-value":t.config.type,placeholder:"Select",size:"small",style:{width:"150px"},onChange:s},{default:f(()=>[(m(!0),w(G,null,re(e(o),b=>(m(),P(u,{key:b,label:b,value:b},null,8,["label","value"]))),128))]),_:1},8,["model-value"])])}}}),Tl={class:"mb-2"},ca=B({__name:"size",props:{config:{},format:{}},emits:["saveConfig"],setup(n,{emit:a}){const t=n,{t:l}=Q(),o=a,s=r(()=>t.format===O.pdf?[ge.pdf,ge.custom]:[ge.slide,ge.custom]),c=r(()=>t.format===O.pdf?tr:ar),p=te(t.config.type===ge.pdf?t.config.config:nr()),u=te(t.config.type===ge.custom?t.config.config:or({size:c.value})),g=te(t.config.type===ge.slide?t.config.config:lr()),b=x=>l(`setting.template.size.type_${x}`),h=x=>{p.value=x,o("saveConfig",{type:ge.pdf,config:x})},d=x=>{u.value=x,o("saveConfig",{type:ge.custom,config:x})},v=x=>{g.value=x,o("saveConfig",{type:ge.slide,config:x})},k=x=>{switch(x){case ge.pdf:h(p.value);break;case ge.custom:d(u.value);break;case ge.slide:v(g.value);break}};return(x,E)=>{const j=Oa,M=qa;return m(),w(G,null,[C("div",Tl,[i(M,{"model-value":t.config.type,onChange:k},{default:f(()=>[(m(!0),w(G,null,re(e(s),T=>(m(),P(j,{key:T,value:T},{default:f(()=>[lt(q(b(T)),1)]),_:2},1032,["value"]))),128))]),_:1},8,["model-value"])]),t.config.type===e(ge).pdf?(m(),P(Pl,{key:0,config:t.config.config,onSaveConfig:h},null,8,["config"])):A("",!0),t.config.type===e(ge).custom?(m(),P(Bl,{key:1,config:t.config.config,onSaveConfig:d},null,8,["config"])):A("",!0),t.config.type===e(ge).slide?(m(),P(Rl,{key:2,config:t.config.config,onSaveConfig:v},null,8,["config"])):A("",!0)],64)}}}),jl={class:"list-decimal list-inside text-sm"},Al={class:"list-decimal list-inside text-sm"},Ol=B({__name:"menu",props:{userConfig:{}},emits:["save-user-config"],setup(n,{emit:a}){const t=n,l=a,{t:o}=Q(),s=Ma(),c=Ue(),p=te([]),u=r(()=>o("setting.template.label")),g=r(()=>o("setting.template.template.library")),b=r(()=>{const y=t.userConfig.templateId;return p.value.find(L=>L.id===y)??h}),h={id:zo,name:o("common.default"),config:ir()},d=y=>{const L=p.value.find(ne=>ne.id===y);L&&(U({templateId:L.id}),K(L))},v=r(()=>o("setting.template.template.first_page")),k=r(()=>o("setting.template.template.content_page")),x=y=>{s.config.page=y},E=y=>{s.config.contentPage=y},j=r(()=>o("setting.template.author.label")),M=y=>{s.config.author=y},T=r(()=>o("setting.template.component.label")),J=r(()=>o("font.label")),ie=y=>{s.config.font=y,Pe(Me(y))},ae=r(()=>o("common.basic")),Z=r(()=>o("setting.template.size.label")),me=y=>{U({...t.userConfig,size:y}),s.config.size=y},fe=r(()=>o("common.separator")),he=y=>{U({...t.userConfig,separator:y})},U=y=>{l("save-user-config",y)},X=r(()=>o("common.tips")),ce=r(()=>o("common.hint")),ve=r(()=>o("common.faq")),ee=r(()=>[o("pdf.tip_1"),o("pdf.tip_2")]),H=r(()=>[o("pdf.faq_1"),o("pdf.faq_2")]),K=(y,L)=>{s.init(y,L),Pe(Me(s.config.font))};return Ce(async()=>{const y=await chrome.runtime.sendMessage({action:zs});p.value=[h,...y],K(b.value,t.userConfig)}),(y,L)=>(m(),P(e(Ge),{"is-reverse":"",collapsable:""},{default:f(()=>[i(e(Y),{label:e(ae)},{default:f(()=>[i(e(le),null,{default:f(()=>[i(e(I),{label:e(Z)},{default:f(()=>[i(ca,{config:e(s).config.size,onSaveConfig:me,format:e(O).pdf},null,8,["config","format"])]),_:1},8,["label"]),i(e(I),{label:e(fe)},{default:f(()=>[i(e(yt),{separator:t.userConfig.separator,onSaveConfig:he},null,8,["separator"])]),_:1},8,["label"])]),_:1})]),_:1},8,["label"]),i(e(Y),{label:e(u)},{default:f(()=>[i(e(le),null,{default:f(()=>[i(e(I),{label:e(g)},{default:f(()=>[i(e(Je),{"is-pro":e(c).isPro,templates:e(p),template:e(b),"format-type":e(O).pdf,onSaveTemplate:d},null,8,["is-pro","templates","template","format-type"])]),_:1},8,["label"]),i(e(I),{label:e(v)},{default:f(()=>[i(e(Ke),{"page-config":e(s).config.page,"page-type":e(Oe).first,"is-pro":e(c).isPro,onSaveConfig:x},null,8,["page-config","page-type","is-pro"])]),_:1},8,["label"]),i(e(I),{label:e(k)},{default:f(()=>[i(e(_t),{"page-config":e(s).config.contentPage,"is-pro":e(c).isPro,onSaveConfig:E},null,8,["page-config","is-pro"])]),_:1},8,["label"])]),_:1})]),_:1},8,["label"]),i(e(Y),{label:e(T)},{default:f(()=>[i(e(le),null,{default:f(()=>[i(e(I),{label:e(j)},{default:f(()=>[i(e(nt),{config:e(s).config.author,"is-pro":e(c).isPro,onSaveConfig:M},null,8,["config","is-pro"])]),_:1},8,["label"])]),_:1})]),_:1},8,["label"]),i(e(Y),{label:e(J)},{default:f(()=>[i(e(ot),{config:e(s).config.font,"is-pro":e(c).isPro,onSaveConfig:ie},null,8,["config","is-pro"])]),_:1},8,["label"]),i(e(Y),{label:e(ce)},{default:f(()=>[i(e(le),null,{default:f(()=>[i(e(I),{label:e(X)},{default:f(()=>[C("ol",jl,[(m(!0),w(G,null,re(e(ee),ne=>(m(),w("li",null,q(ne),1))),256))])]),_:1},8,["label"]),i(e(I),{label:e(ve)},{default:f(()=>[C("ol",Al,[(m(!0),w(G,null,re(e(H),ne=>(m(),w("li",null,q(ne),1))),256))])]),_:1},8,["label"])]),_:1})]),_:1},8,["label"])]),_:1}))}}),ql={class:"flex flex-col h-full"},Il={class:"flex flex-col flex-grow justify-center items-center"},$l={class:"sticky bottom-0 bg-white"},Ll=B({__name:"view",props:{article:{}},setup(n){const a=Ma(),t=oa(),l=r(()=>new Ni(a.config)),o=s=>{t.saveConfig(s)};return(s,c)=>(m(),w("div",ql,[C("div",Il,[i(st,{padding:32},{default:f(({maxWidth:p})=>[i(Qi,{article:s.article,"max-width":p,"render-config":e(l),separator:e(t).config.separator,"can-download":""},null,8,["article","max-width","render-config","separator"])]),_:1})]),C("div",$l,[i(Ol,{"user-config":e(t).config,onSaveUserConfig:o},null,8,["user-config"])])]))}}),Hl={class:"list-decimal list-inside text-sm"},Vl={class:"list-decimal list-inside text-sm"},Fl=B({__name:"menu",props:{userConfig:{}},emits:["save-user-config"],setup(n,{emit:a}){const t=n,l=a,{t:o}=Q(),s=Ba(),c=Ue(),p=te([]),u=r(()=>o("setting.template.label")),g=r(()=>o("setting.template.template.library")),b=r(()=>{const y=t.userConfig.templateId;return p.value.find(L=>L.id===y)??h}),h={id:Mo,name:o("common.default"),config:sr()},d=y=>{const L=p.value.find(ne=>ne.id===y);L&&(U({templateId:L.id}),K(L))},v=r(()=>o("setting.template.template.first_page")),k=r(()=>o("setting.template.template.content_page")),x=y=>{s.config.page=y},E=y=>{s.config.contentPage=y},j=r(()=>o("setting.template.author.label")),M=y=>{s.config.author=y},T=r(()=>o("setting.template.component.label")),J=r(()=>o("font.label")),ie=y=>{s.config.font=y,Pe(Me(y))},ae=r(()=>o("common.basic")),Z=r(()=>o("setting.template.size.label")),me=y=>{U({...t.userConfig,size:y}),s.config.size=y},fe=r(()=>o("common.separator")),he=y=>{U({...t.userConfig,separator:y})},U=y=>{l("save-user-config",y)},X=r(()=>o("common.tips")),ce=r(()=>o("common.hint")),ve=r(()=>o("common.faq")),ee=r(()=>[o("slide.tip_1"),o("slide.tip_2")]),H=r(()=>[o("slide.faq_1"),o("slide.faq_2")]),K=(y,L)=>{s.init(y,L),Pe(Me(s.config.font))};return Ce(async()=>{const y=await chrome.runtime.sendMessage({action:Ps});p.value=[h,...y],K(b.value,t.userConfig)}),(y,L)=>(m(),P(e(Ge),{"is-reverse":"",collapsable:""},{default:f(()=>[i(e(Y),{label:e(ae)},{default:f(()=>[i(e(le),null,{default:f(()=>[i(e(I),{label:e(Z)},{default:f(()=>[i(ca,{config:e(s).config.size,onSaveConfig:me,format:e(O).slide},null,8,["config","format"])]),_:1},8,["label"]),i(e(I),{label:e(fe)},{default:f(()=>[i(e(yt),{separator:t.userConfig.separator,onSaveConfig:he},null,8,["separator"])]),_:1},8,["label"])]),_:1})]),_:1},8,["label"]),i(e(Y),{label:e(u)},{default:f(()=>[i(e(le),null,{default:f(()=>[i(e(I),{label:e(g)},{default:f(()=>[i(e(Je),{"is-pro":e(c).isPro,templates:e(p),template:e(b),"format-type":e(O).slide,onSaveTemplate:d},null,8,["is-pro","templates","template","format-type"])]),_:1},8,["label"]),i(e(I),{label:e(v)},{default:f(()=>[i(e(Ke),{"page-config":e(s).config.page,"page-type":e(Oe).first,"is-pro":e(c).isPro,onSaveConfig:x},null,8,["page-config","page-type","is-pro"])]),_:1},8,["label"]),i(e(I),{label:e(k)},{default:f(()=>[i(e(_t),{"page-config":e(s).config.contentPage,"is-pro":e(c).isPro,onSaveConfig:E},null,8,["page-config","is-pro"])]),_:1},8,["label"])]),_:1})]),_:1},8,["label"]),i(e(Y),{label:e(T)},{default:f(()=>[i(e(le),null,{default:f(()=>[i(e(I),{label:e(j)},{default:f(()=>[i(e(nt),{config:e(s).config.author,"is-pro":e(c).isPro,onSaveConfig:M},null,8,["config","is-pro"])]),_:1},8,["label"])]),_:1})]),_:1},8,["label"]),i(e(Y),{label:e(J)},{default:f(()=>[i(e(ot),{config:e(s).config.font,"is-pro":e(c).isPro,onSaveConfig:ie},null,8,["config","is-pro"])]),_:1},8,["label"]),i(e(Y),{label:e(ce)},{default:f(()=>[i(e(le),null,{default:f(()=>[i(e(I),{label:e(X)},{default:f(()=>[C("ol",Hl,[(m(!0),w(G,null,re(e(ee),ne=>(m(),w("li",null,q(ne),1))),256))])]),_:1},8,["label"]),i(e(I),{label:e(ve)},{default:f(()=>[C("ol",Vl,[(m(!0),w(G,null,re(e(H),ne=>(m(),w("li",null,q(ne),1))),256))])]),_:1},8,["label"])]),_:1})]),_:1},8,["label"])]),_:1}))}}),Wl={class:"flex flex-col h-full"},Ul={class:"flex flex-col flex-grow justify-center items-center"},Gl={class:"sticky bottom-0 bg-white"},Zl=B({__name:"view",props:{article:{}},setup(n){const a=Ba(),t=la(),l=r(()=>new Di(a.config)),o=s=>{t.saveConfig(s)};return(s,c)=>(m(),w("div",Wl,[C("div",Ul,[i(st,{padding:32},{default:f(({maxWidth:p})=>[i(Ji,{article:s.article,"max-width":p,"render-config":e(l),separator:e(t).config.separator,"can-download":""},null,8,["article","max-width","render-config","separator"])]),_:1})]),C("div",Gl,[i(Fl,{"user-config":e(t).config,onSaveUserConfig:o},null,8,["user-config"])])]))}}),Nl=B({__name:"Text",props:{block:{},isSection:{type:Boolean},indent:{}},setup(n){const a=n,t=r(()=>a.isSection?"content whitespace-pre-wrap break-words":"whitespace-pre-wrap break-words"),l=r(()=>{var o;return((o=a.block.content)==null?void 0:o.concatText)??""});return(o,s)=>(m(),w("span",{class:pe(e(t))},q(`${e(l)}
`),3))}}),Ql={key:0},Dl=B({__name:"Callout",props:{block:{},isSection:{type:Boolean},indent:{}},setup(n){const a=n,t=r(()=>a.isSection?"content whitespace-pre-wrap break-words":"whitespace-pre-wrap break-words"),l=r(()=>{var c,p,u;return((p=(c=a.block.content)==null?void 0:c.icon)==null?void 0:p.type)==="emoji"&&((u=a.block.content)==null?void 0:u.icon.src)}),o=r(()=>a.block.subBlocks.length>0),s=r(()=>{var c,p;return((p=(c=a.block.content)==null?void 0:c.icon)==null?void 0:p.src)??""});return(c,p)=>(m(),w("section",{class:pe(e(t))},[e(l)?(m(),w("span",Ql,q(`${e(s)} `),1)):A("",!0),e(o)?(m(),P(Re,{key:1,blocks:a.block.subBlocks,"is-section":!1},null,8,["blocks"])):A("",!0)],2))}}),Jl=B({__name:"H1",props:{block:{},isSection:{type:Boolean},indent:{}},setup(n){const a=n,t=r(()=>a.isSection?"content whitespace-pre-wrap break-words":"whitespace-pre-wrap break-words"),l=r(()=>{var o;return((o=a.block.content)==null?void 0:o.concatText)??""});return(o,s)=>(m(),w("section",{class:pe(e(t))},[C("h1",null,q(`${e(l)} 
`),1),s[0]||(s[0]=C("p",null,q(`
`),-1))],2))}}),Kl=B({__name:"H2",props:{block:{},isSection:{type:Boolean},indent:{}},setup(n){const a=n,t=r(()=>a.isSection?"content whitespace-pre-wrap break-words":"whitespace-pre-wrap break-words"),l=r(()=>{var o;return((o=a.block.content)==null?void 0:o.concatText)??""});return(o,s)=>(m(),w("section",{class:pe(e(t))},[C("h2",null,q(`${e(l)} 
`),1),s[0]||(s[0]=C("p",null,q(`
`),-1)),a.block.subBlocks.length>0?(m(),P(Re,{key:0,blocks:a.block.subBlocks,"is-section":!1,indent:a.indent},null,8,["blocks","indent"])):A("",!0)],2))}}),Yl=B({__name:"H3",props:{block:{},isSection:{type:Boolean},indent:{}},setup(n){const a=n,t=r(()=>a.isSection?"content whitespace-pre-wrap break-words":"whitespace-pre-wrap break-words"),l=r(()=>{var o;return((o=a.block.content)==null?void 0:o.concatText)??""});return(o,s)=>(m(),w("section",{class:pe(e(t))},[C("h3",null,q(`${e(l)} 
`),1),s[0]||(s[0]=C("p",null,q(`
`),-1)),a.block.subBlocks.length>0?(m(),P(Re,{key:0,blocks:a.block.subBlocks,"is-section":!1,indent:a.indent},null,8,["blocks","indent"])):A("",!0)],2))}}),Xl=B({__name:"H4",props:{block:{},isSection:{type:Boolean},indent:{}},setup(n){const a=n,t=r(()=>a.isSection?"content whitespace-pre-wrap break-words":"whitespace-pre-wrap break-words"),l=r(()=>{var o;return((o=a.block.content)==null?void 0:o.concatText)??""});return(o,s)=>(m(),w("section",{class:pe(e(t))},[C("h4",null,q(`${e(l)} 
`),1),s[0]||(s[0]=C("p",null,q(`
`),-1)),a.block.subBlocks.length>0?(m(),P(Re,{key:0,blocks:a.block.subBlocks,"is-section":!1,indent:a.indent},null,8,["blocks","indent"])):A("",!0)],2))}}),ei={key:0},fa=B({__name:"List",props:{block:{},isSection:{type:Boolean},indent:{}},setup(n){const a=n,t=r(()=>a.isSection?"content whitespace-pre-wrap break-words":"whitespace-pre-wrap overflow-wrap-break-word break-words"),l=r(()=>{var p;return((p=a.block.content)==null?void 0:p.concatText)??""}),o=r(()=>a.indent+"    "),s=r(()=>{var p;return(p=a.block.content)==null?void 0:p.before}),c=r(()=>a.block.subBlocks.length>0);return(p,u)=>(m(),w("section",{class:pe(e(t))},[a.block.content?(m(),w("p",ei,q(`${p.indent} ${e(s)} ${e(l)}
`),1)):A("",!0),e(c)?(m(),P(Re,{key:1,blocks:a.block.subBlocks,"is-section":!1,indent:e(o)},null,8,["blocks","indent"])):A("",!0)],2))}}),ti={key:0},ai={key:1},ni=B({__name:"Checkbox",props:{block:{},isSection:{type:Boolean},indent:{}},setup(n){const a=n,t=r(()=>a.isSection?"content whitespace-pre-wrap break-words":"whitespace-pre-wrap break-words"),l=r(()=>{var s;return(s=a.block.content)==null?void 0:s.isChecked}),o=r(()=>{var s;return((s=a.block.content)==null?void 0:s.concatText)??""});return(s,c)=>(m(),w("section",{class:pe(e(t))},[e(l)?(m(),w("span",ti,q(`\u2705 ${e(o)}
`),1)):(m(),w("span",ai,q(`\u{1F532} ${e(o)}
`),1))],2))}}),oi=B({__name:"Code",props:{block:{type:Object,required:!0},isSection:{type:Boolean,default:!0},indent:{type:String,default:""}},setup(n){const a=n,t=r(()=>{var o;return((o=a.block.content)==null?void 0:o.code)??""}),l=r(()=>a.isSection?"content whitespace-pre-wrap break-words":"whitespace-pre-wrap break-words");return(o,s)=>(m(),w("section",{class:pe(e(l))},[C("code",null,q(`${e(t)}
`),1)],2))}}),li={key:0},ii=B({__name:"Quote",props:{block:{},isSection:{type:Boolean},indent:{}},setup(n){const a=n,t=r(()=>a.isSection?"content whitespace-pre-wrap break-words":"whitespace-pre-wrap break-words"),l=r(()=>{var s;return(s=a.block.content)==null?void 0:s.concatText}),o=r(()=>a.block.subBlocks.length>0);return(s,c)=>(m(),w("section",{class:pe(e(t))},[e(l)?(m(),w("p",li,q(`${e(l)}
`),1)):A("",!0),e(o)?(m(),P(Re,{key:1,blocks:a.block.subBlocks,"is-section":!1},null,8,["blocks"])):A("",!0)],2))}}),si={};function ri(n,a){return null}const Xe=Pa(si,[["render",ri]]),ci={key:0},fi=B({__name:"Toggle",props:{block:{},isSection:{type:Boolean},indent:{}},setup(n){const a=n,t=r(()=>a.isSection?"content whitespace-pre-wrap break-words":"whitespace-pre-wrap overflow-wrap-break-word break-words"),l=r(()=>{var o;return((o=a.block.content)==null?void 0:o.concatText)??""});return r(()=>a.block.subBlocks.length>0),(o,s)=>(m(),w("section",{class:pe(e(t))},[a.block.content?(m(),w("p",ci,q(`${e(l)}
`),1)):A("",!0),a.block.subBlocks.length>0?(m(),P(Re,{key:1,blocks:a.block.subBlocks,"is-section":!1,indent:o.indent},null,8,["blocks","indent"])):A("",!0)],2))}}),Re=B({__name:"Render",props:{blocks:{type:Array,required:!0},isSection:{type:Boolean,default:!0},indent:{type:String,default:""}},setup(n){const a=n,t={title:Jl,h1:Kl,h2:Yl,h3:Xl,text:Nl,image:Xe,ol:fa,ul:fa,checkbox:ni,quote:ii,callout:Dl,code:oi,table:Xe,divider:Xe,cover:Xe,footer:Xe,toggle:fi},l=r(()=>a.isSection?Ki(a.blocks):a.blocks);return(o,s)=>(m(!0),w(G,null,re(e(l),(c,p)=>(m(),P(ha(t[c.type]),{key:p,block:c.block,"is-section":a.isSection,indent:a.indent},null,8,["block","is-section","indent"]))),128))}}),ui={class:"flex flex-col"},pi={class:"p-8"},gi=B({__name:"view",props:{article:{}},setup(n){const{t:a}=Q(),t=n,l=()=>{const u=[],g=document.getElementsByClassName("content");for(const b of g)b.textContent&&u.push(b.textContent);return u},o=async()=>{const u=l();try{const g=new ClipboardItem({"text/plain":new Blob(u,{type:"text/plain"})});await navigator.clipboard.write([g])}catch(g){Fs.error(a("common.copy_failed")),console.error(g)}},s=r(()=>{var u;return((u=t.article.title.content)==null?void 0:u.concatText)??""}),c=async()=>{const u=new ClipboardItem({"text/plain":new Blob([s.value],{type:"text/plain"})});await navigator.clipboard.write([u])},p=async()=>{const u=[s.value+`

`,...l()],g=new Blob(u,{type:"text/plain"});Ws(g,`${s.value}.txt`)};return Ce(()=>{ya().setFunc(p)}),(u,g)=>(m(),w("div",ui,[C("div",pi,[i(Ye,{label:u.$t("common.title"),class:"mb-8"},{actions:f(()=>[i(ke,{func:c},{default:f(()=>[i(e(Fe),{class:"text-blue-500"})]),_:1})]),content:f(()=>[C("p",null,q(e(s)),1)]),_:1},8,["label"]),i(Ye,{label:u.$t("common.content")},{actions:f(()=>[i(ke,{func:o},{default:f(()=>[i(e(Fe),{class:"text-blue-500"})]),_:1})]),content:f(()=>[i(Re,{blocks:t.article.blocks},null,8,["blocks"])]),_:1},8,["label"])])]))}}),di=B({__name:"Preview",setup(n){const a=ze("article"),t=ea(),l=r(()=>{const o=t.path.split("/");return o.length<2?null:o[1]});return(o,s)=>e(l)===e(O).card?(m(),w(G,{key:0},[e(a)?(m(),P(tl,{key:0,article:e(a)},null,8,["article"])):A("",!0)],64)):e(l)===e(O).image?(m(),w(G,{key:1},[e(a)?(m(),P(rl,{key:0,article:e(a)},null,8,["article"])):A("",!0)],64)):e(l)===e(O).pdf?(m(),w(G,{key:2},[e(a)?(m(),P(Ll,{key:0,article:e(a)},null,8,["article"])):A("",!0)],64)):e(l)===e(O).slide?(m(),w(G,{key:3},[e(a)?(m(),P(Zl,{key:0,article:e(a)},null,8,["article"])):A("",!0)],64)):e(l)===e(O).plainText?(m(),w(G,{key:4},[e(a)?(m(),P(gi,{key:0,article:e(a)},null,8,["article"])):A("",!0)],64)):e(l)===e(O).gzh?(m(),w(G,{key:5},[e(a)?(m(),P(Cl,{key:0,article:e(a)},null,8,["article"])):A("",!0)],64)):(m(),w(G,{key:6},[e(a)?(m(),P(Sl,{key:0,article:e(a)},null,8,["article"])):A("",!0)],64))}}),ua=await chrome.runtime.sendMessage({action:Ms});let pa=Bs();ua&&(pa=ua.locale);const mi=Ii({locale:pa,fallbackLocale:"en",messages:{en:await it(()=>import("./en-B56In8mj.js"),[]),"zh-hans":await it(()=>import("./zh-hans-DfnptakB.js"),[]),"zh-hant":await it(()=>import("./zh-hant-Cx-hT51-.js"),[]),ja:await it(()=>import("./ja-MMbLbmmh.js"),[])}}),hi=eo({history:En(),routes:[{path:"/",component:ko},{path:"/:id",component:di}]}),bi=$i(ho),vi=Yi();bi.use(mi).use(hi).use(vi).mount("#app")})();
